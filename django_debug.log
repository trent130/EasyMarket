DEBUG 2024-12-09 15:46:24,449 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-09 15:53:39,295 utils (0.047) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-09 12:53:36.265719' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-09 12:53:36.265719', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-09 15:53:39,532 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-09 15:53:52,103 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-09 12:53:52.101109' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-09 12:53:52.101109', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-09 15:53:52,110 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 08:29:04,723 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 08:58:02,273 utils (0.515) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 05:57:55.825161' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 05:57:55.825161', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 08:58:03,288 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 08:58:07,015 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 05:58:07.013839' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 05:58:07.013839', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 08:58:07,017 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 08:58:47,312 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 05:58:47.310049' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 05:58:47.310049', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 08:58:47,313 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:18:19,564 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:18:23,394 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:18:24,694 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:19:18,422 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:19:24,839 utils (0.032) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:19:24.736860' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:19:24.736860', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:19:24,840 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:19:47,149 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:19:48,047 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:19:52,096 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:19:56,981 utils (0.062) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE "products_product"."is_active"; args=(); alias=default
DEBUG 2024-12-10 09:19:56,981 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE "products_product"."is_active" ORDER BY "products_product"."created_at" DESC LIMIT 4; args=(); alias=default
DEBUG 2024-12-10 09:19:57,011 utils (0.000) SELECT "marketplace_review"."id", "marketplace_review"."product_id", "marketplace_review"."reviewer_id", "marketplace_review"."rating", "marketplace_review"."comment", "marketplace_review"."timestamp" FROM "marketplace_review" WHERE "marketplace_review"."product_id" IN (4, 3, 2, 1); args=(4, 3, 2, 1); alias=default
DEBUG 2024-12-10 09:19:57,683 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 4; args=(4,); alias=default
DEBUG 2024-12-10 09:19:57,796 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 4 LIMIT 1; args=(1, 4); alias=default
DEBUG 2024-12-10 09:19:57,799 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 09:19:57,833 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 3 LIMIT 1; args=(1, 3); alias=default
DEBUG 2024-12-10 09:19:57,843 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 2; args=(2,); alias=default
DEBUG 2024-12-10 09:19:57,848 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 2 LIMIT 1; args=(1, 2); alias=default
DEBUG 2024-12-10 09:19:57,850 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 1; args=(1,); alias=default
DEBUG 2024-12-10 09:19:57,852 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 1 LIMIT 1; args=(1, 1); alias=default
DEBUG 2024-12-10 09:20:44,194 utils (0.078) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date" FROM "products_product" WHERE ("products_product"."is_active" AND "products_product"."slug" = 'test3') LIMIT 21; args=('test3',); alias=default
DEBUG 2024-12-10 09:20:46,096 utils (1.906) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:20:46,756 utils (0.656) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:20:46,758 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:20:46,794 utils (0.032) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 09:20:46,796 utils (0.015) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 2 LIMIT 21; args=(2,); alias=default
DEBUG 2024-12-10 09:20:46,801 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 2 LIMIT 21; args=(2,); alias=default
ERROR 2024-12-10 09:20:46,803 log Internal Server Error: /products/api/products/test3/
DEBUG 2024-12-10 09:20:47,684 utils (0.859) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:20:48,046 utils (0.359) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:20:48,051 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:20:48,056 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 09:20:48,058 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 2 LIMIT 21; args=(2,); alias=default
DEBUG 2024-12-10 09:20:48,061 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 2 LIMIT 21; args=(2,); alias=default
ERROR 2024-12-10 09:20:48,064 log Internal Server Error: /products/api/products/test3/
DEBUG 2024-12-10 09:23:25,467 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:23:27,158 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:31,872 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:32,683 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:34,532 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:35,358 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:36,171 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:36,988 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:37,816 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:41,161 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:42,041 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:43,022 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:43,817 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:26:44,632 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:21,296 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:25,727 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:26,987 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:27,918 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:29,917 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:30,965 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:33,023 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:34,626 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:36,087 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:36,861 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:41,150 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:42,043 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:42,811 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:43,766 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:44,434 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:45,083 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:45,747 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:46,420 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:47,102 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:47,760 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:48,431 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:49,109 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:49,791 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:50,460 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:51,178 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:51,864 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:52,543 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:53,205 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:53,869 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:27:54,521 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:29:21,370 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:26,618 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:27,719 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:28,513 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:49,878 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:51,460 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:52,656 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:56,713 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:58,677 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:30:59,691 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:31:27,706 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:03,416 utils (0.656) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:31:55.157953' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:31:55.157953', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:32:04,142 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:32:13,968 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:32:14,086 utils (0.016) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date" FROM "products_product" WHERE ("products_product"."is_active" AND "products_product"."slug" = 'test3') LIMIT 21; args=('test3',); alias=default
DEBUG 2024-12-10 09:32:14,361 utils (0.266) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:32:14,736 utils (0.375) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:32:14,877 utils (0.140) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:32:15,886 utils (0.062) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 09:32:15,896 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 2 LIMIT 21; args=(2,); alias=default
ERROR 2024-12-10 09:32:15,901 log Internal Server Error: /products/api/products/test3/
DEBUG 2024-12-10 09:32:16,241 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:32:16.239078' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:32:16.239078', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:32:16,464 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:32:53,388 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:56,350 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:57,106 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:57,876 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:58,712 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:32:59,610 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:00,323 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:01,063 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:01,772 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:02,454 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:03,161 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:03,889 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:04,582 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:05,250 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:05,917 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:06,581 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:07,263 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:07,984 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:08,776 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:09,572 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:10,228 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:10,904 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:11,589 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:12,300 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:12,985 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:13,636 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:14,359 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:15,037 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:15,720 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:16,383 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:17,089 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:17,804 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:18,544 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:19,267 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:20,021 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:20,772 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:21,481 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:22,174 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:22,905 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:23,645 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:24,332 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:25,066 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:25,764 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:26,699 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:27,421 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:33:28,124 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:34:11,622 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:34:12,560 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:34:43,938 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:34:44,724 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:35:02,174 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:35:02.172012' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:35:02.172012', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:35:02,176 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:35:02,179 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:35:03,008 utils (0.656) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:35:03,264 utils (0.250) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:35:03,267 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:35:03,271 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 09:35:03,272 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 2 LIMIT 21; args=(2,); alias=default
ERROR 2024-12-10 09:35:03,274 log Internal Server Error: /products/api/products/test3/
DEBUG 2024-12-10 09:36:04,356 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:36:05,436 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
WARNING 2024-12-10 09:36:24,554 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:36:25,062 utils (0.016) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:36:24.554561' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:36:24.554561', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:36:25,933 utils (0.891) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:36:26,600 utils (0.672) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 4; args=(1, 4); alias=default
DEBUG 2024-12-10 09:36:26,600 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:36:26,619 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 09:36:26,620 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 2 LIMIT 21; args=(2,); alias=default
ERROR 2024-12-10 09:36:26,622 log Internal Server Error: /products/api/products/test3/
DEBUG 2024-12-10 09:36:26,652 utils (1.578) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:41:42,220 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:41:42,597 utils (0.203) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:41:42.217772' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:41:42.217772', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:41:42,601 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:46:51,393 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:47:04,909 utils (0.515) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:47:03.010572' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:47:03.010572', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:47:04,962 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:47:08,509 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
DEBUG 2024-12-10 09:47:15,943 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (None:None) 'api/'>
DEBUG 2024-12-10 09:47:16,013 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (None:None) 'api/'>
DEBUG 2024-12-10 09:47:16,176 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>
DEBUG 2024-12-10 09:47:16,371 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>
DEBUG 2024-12-10 09:47:16,383 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>
DEBUG 2024-12-10 09:47:16,427 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/add/' [name='cart-add-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/remove/' [name='cart-remove-item']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/cart/<int:cart_id>/clear/' [name='cart-clear']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/add/' [name='wishlist-add-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/wishlist/<int:wishlist_id>/remove/' [name='wishlist-remove-product']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/search/' [name='search']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/recommendations/' [name='recommendations']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/products/<int:product_id>/reviews/' [name='product-reviews']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'api/reviews/<int:pk>/' [name='review-detail']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/' [name='token_obtain_pair']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'token/refresh/' [name='token_refresh']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'enable-2fa/' [name='enable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'verify-2fa/' [name='verify_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern '2fa-status/' [name='get_2fa_status']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'disable-2fa/' [name='disable_2fa']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'validate-2fa/' [name='validate_backup_code']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'regenerate-2-fa/' [name='regenerate_backup_codes']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signin/' [name='signin']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>, <URLPattern 'forgot_password/' [name='forgot_password']>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'marketplace/signup'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>
DEBUG 2024-12-10 09:47:16,502 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:47:16.500232' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:47:16.500232', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:47:16,504 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:47:29,125 log Method Not Allowed: /marketplace/signup/
DEBUG 2024-12-10 09:47:35,139 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:47:35.138697' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:47:35.138697', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:47:35,141 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:47:35,150 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
DEBUG 2024-12-10 09:47:35,152 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (None:None) 'api/'>
DEBUG 2024-12-10 09:47:35,162 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>
DEBUG 2024-12-10 09:47:35,164 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>
DEBUG 2024-12-10 09:47:35,164 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>
DEBUG 2024-12-10 09:47:35,358 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>
DEBUG 2024-12-10 09:47:35,369 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>
WARNING 2024-12-10 09:47:35,375 log Not Found: /favicon.ico
DEBUG 2024-12-10 09:47:50,492 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:47:50.492094' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:47:50.492094', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:47:50,492 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:49:39,542 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:49:39.542133' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:49:39.542133', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:49:39,542 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:49:39,542 utils (0.000) SELECT 1 AS "a" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew' LIMIT 1; args=(1, 'lawrencew'); alias=default
DEBUG 2024-12-10 09:49:39,929 utils (0.141) INSERT INTO "auth_user" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined") VALUES ('pbkdf2_sha256$720000$VSLy2TpsZGXOnKAwZ06Pah$Rqwxpm5/HHLZfJafS3m2xJ89aqQ2FwruFpPVAylf5r8=', NULL, 0, 'lawrencew', '', '', 'lawrencew@gmail.com', 0, 1, '2024-12-10 06:49:39.581079') RETURNING "auth_user"."id"; args=('pbkdf2_sha256$720000$VSLy2TpsZGXOnKAwZ06Pah$Rqwxpm5/HHLZfJafS3m2xJ89aqQ2FwruFpPVAylf5r8=', None, False, 'lawrencew', '', '', 'lawrencew@gmail.com', False, True, '2024-12-10 06:49:39.581079'); alias=default
DEBUG 2024-12-10 09:49:40,425 utils (0.047) INSERT INTO "marketplace_userprofile" ("user_id", "avatar") VALUES (3, 'avatars/default.jpg') RETURNING "marketplace_userprofile"."id"; args=(3, 'avatars/default.jpg'); alias=default
DEBUG 2024-12-10 09:49:40,671 utils (0.016) SELECT 1 AS "a" FROM "marketplace_student" WHERE "marketplace_student"."email" = 'lawrencew@gmail.com' LIMIT 1; args=(1, 'lawrencew@gmail.com'); alias=default
DEBUG 2024-12-10 09:49:40,739 utils (0.062) INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", "email", "bio") VALUES (3, '', '', 'lawrencew@gmail.com', '') RETURNING "marketplace_student"."id"; args=(3, '', '', 'lawrencew@gmail.com', ''); alias=default
DEBUG 2024-12-10 09:49:41,060 utils (0.000) INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", "email", "bio") VALUES (3, '', '', '', '') RETURNING "marketplace_student"."id"; args=(3, '', '', '', ''); alias=default
DEBUG 2024-12-10 09:49:42,073 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" LIMIT 21; args=(); alias=default
DEBUG 2024-12-10 09:49:42,075 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" LIMIT 21; args=(); alias=default
DEBUG 2024-12-10 09:49:42,078 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\views_auth.py", line 103, in signup
    Student.objects.create(user=user)  # Assuming a Student model is linked to User
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 822, in save
    self.save_base(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 909, in save_base
    updated = self._save_table(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1071, in _save_table
    results = self._do_insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1112, in _do_insert
    return manager._insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1823, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x00000199ADF3B400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759560053760, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBE80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x00000199AC8727A0>>')], 'id': 1759562677888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1C8E00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x00000199AC8727A0>'), ('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x00000199ADB067A0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x00000199AD2D6050>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x00000199AE1BC1C0>')], 'id': 1759562731008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1C8C00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x00000199ADB06710>')], 'id': 1759562730496, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\generic\\base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('cls', "<class 'marketplace.views_auth.WrappedAPIView'>"), ('initkwargs', '{}')], 'id': 1759562677760, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE198880>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method api_view.<locals>.decorator.<locals>.handler of <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>>')], 'id': 1759562532992, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3500>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('exception_handler', '<function exception_handler at 0x00000199ADA58550>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/marketplace/signup/'>,\n 'view': <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>}"), ('response', 'None')], 'id': 1759562642688, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADBF3600>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('renderer_format', "'api'"), ('use_plaintext_traceback', 'False')], 'id': 1759556613632, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1988C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method api_view.<locals>.decorator.<locals>.handler of <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>>')], 'id': 1759562533056, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF13080>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\decorators.py', 'function': 'handler', 'lineno': 50, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('args', "(<rest_framework.request.Request: POST '/marketplace/signup/'>,)"), ('kwargs', '{}'), ('func', '<function signup at 0x00000199ADB065F0>')], 'id': 1759559889024, 'pre_context': ['        assert isinstance(http_method_names, (list, tuple)), \\', "            '@api_view expected a list of strings, received %s' % type(http_method_names).__name__", '', "        allowed_methods = set(http_method_names) | {'options'}", '        WrappedAPIView.http_method_names = [method.lower() for method in allowed_methods]', '', '        def handler(self, *args, **kwargs):'], 'context_line': '            return func(*args, **kwargs)', 'post_context': ['', '        for method in http_method_names:', '            setattr(WrappedAPIView, method.lower(), handler)', '', '        WrappedAPIView.__name__ = func.__name__', '        WrappedAPIView.__module__ = func.__module__'], 'pre_context_lineno': 43, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE147D80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\views_auth.py', 'function': 'signup', 'lineno': 103, 'vars': [('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('username', "'lawrencew'"), ('password', "'Pluto@123'"), ('email', "'lawrencew@gmail.com'"), ('user', '<User: lawrencew>')], 'id': 1759562202496, 'pre_context': ["    password = request.data.get('password')", "    email = request.data.get('email')", '', '    if User.objects.filter(username=username).exists():', "        return Response({'error': 'Username already exists'}, status=status.HTTP_400_BAD_REQUEST)", '', '    user = User.objects.create_user(username=username, password=password, email=email)'], 'context_line': '    Student.objects.create(user=user)  # Assuming a Student model is linked to User', 'post_context': ['', "    return Response({'message': 'Sign up successful'}, status=status.HTTP_201_CREATED)", '', '', "@api_view(['POST'])", '@permission_classes([IsAuthenticated])'], 'pre_context_lineno': 96, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBD80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\manager.py', 'function': 'manager_method', 'lineno': 87, 'vars': [('self', '<django.db.models.manager.Manager object at 0x00000199AE164D30>'), ('args', '()'), ('kwargs', "{'user': <User: lawrencew>}"), ('name', "'create'")], 'id': 1759562677632, 'pre_context': ['        return []', '', '    @classmethod', '    def _get_queryset_methods(cls, queryset_class):', '        def create_method(name, method):', '            @wraps(method)', '            def manager_method(self, *args, **kwargs):'], 'context_line': '                return getattr(self.get_queryset(), name)(*args, **kwargs)', 'post_context': ['', '            return manager_method', '', '        new_methods = {}', '        for name, method in inspect.getmembers(', '            queryset_class, predicate=inspect.isfunction'], 'pre_context_lineno': 80, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF2AF80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'create', 'lineno': 679, 'vars': [('self', '<QuerySet [<Student:  >, <Student:  >, <Student:  >]>'), ('kwargs', "{'user': <User: lawrencew>}"), ('reverse_one_to_one_fields', 'frozenset()'), ('obj', '<Student:  >')], 'id': 1759559987072, 'pre_context': ['            raise ValueError(', '                "The following fields do not exist in this model: %s"', '                % ", ".join(reverse_one_to_one_fields)', '            )', '', '        obj = self.model(**kwargs)', '        self._for_write = True'], 'context_line': '        obj.save(force_insert=True, using=self.db)', 'post_context': ['        return obj', '', '    async def acreate(self, **kwargs):', '        return await sync_to_async(self.create)(**kwargs)', '', '    def _prepare_for_bulk_create(self, objs):'], 'pre_context_lineno': 672, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE15F240>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': 'save', 'lineno': 822, 'vars': [('force_insert', 'True'), ('force_update', 'False'), ('using', "'default'"), ('update_fields', 'None'), ('deferred_non_generated_fields', 'set()'), ('self', '<Student:  >')], 'id': 1759562297920, 'pre_context': ['            for field in self._meta.concrete_fields:', '                if not field.primary_key and not hasattr(field, "through"):', '                    field_names.add(field.attname)', '            loaded_fields = field_names.difference(deferred_non_generated_fields)', '            if loaded_fields:', '                update_fields = frozenset(loaded_fields)', ''], 'context_line': '        self.save_base(', 'post_context': ['            using=using,', '            force_insert=force_insert,', '            force_update=force_update,', '            update_fields=update_fields,', '        )', ''], 'pre_context_lineno': 815, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3100>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': 'save_base', 'lineno': 909, 'vars': [('self', '<Student:  >'), ('raw', 'False'), ('force_insert', "(<class 'marketplace.models.Student'>,)"), ('force_update', 'False'), ('using', "'default'"), ('update_fields', 'None'), ('cls', "<class 'marketplace.models.Student'>"), ('origin', "<class 'marketplace.models.Student'>"), ('meta', '<Options for Student>'), ('context_manager', '<contextlib._GeneratorContextManager object at 0x00000199AE18FA60>'), ('parent_inserted', 'False')], 'id': 1759562641664, 'pre_context': ['            parent_inserted = False', '            if not raw:', '                # Validate force insert only when parents are inserted.', '                force_insert = self._validate_force_insert(force_insert)', '                parent_inserted = self._save_parents(', '                    cls, using, update_fields, force_insert', '                )'], 'context_line': '            updated = self._save_table(', 'post_context': ['                raw,', '                cls,', '                force_insert or parent_inserted,', '                force_update,', '                using,', '                update_fields,'], 'pre_context_lineno': 902, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B39C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': '_save_table', 'lineno': 1071, 'vars': [('cls', "<class 'marketplace.models.Student'>"), ('force_insert', "(<class 'marketplace.models.Student'>,)"), ('force_update', 'False'), ('using', "'default'"), ('non_pks_non_generated', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('pk_val', 'None'), ('updated', 'False'), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('meta', '<Options for Student>'), ('pk_set', 'False'), ('raw', 'False'), ('self', '<Student:  >'), ('update_fields', 'None')], 'id': 1759562643904, 'pre_context': ['                )', '            fields = [', '                f', '                for f in meta.local_concrete_fields', '                if not f.generated and (pk_set or f is not meta.auto_field)', '            ]', '            returning_fields = meta.db_returning_fields'], 'context_line': '            results = self._do_insert(', 'post_context': ['                cls._base_manager, using, fields, returning_fields, raw', '            )', '            if results:', '                for value, field in zip(results[0], returning_fields):', '                    setattr(self, field.attname, value)', '        return updated'], 'pre_context_lineno': 1064, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE13A580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': '_do_insert', 'lineno': 1112, 'vars': [('self', '<Student:  >'), ('manager', '<django.db.models.manager.Manager object at 0x00000199ADE14760>'), ('using', "'default'"), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('raw', 'False')], 'id': 1759562147200, 'pre_context': ['        return filtered._update(values) > 0', '', '    def _do_insert(self, manager, using, fields, returning_fields, raw):', '        """', '        Do an INSERT. If returning_fields is defined then this method should', '        return the newly created data for the model.', '        """'], 'context_line': '        return manager._insert(', 'post_context': ['            [self],', '            fields=fields,', '            returning_fields=returning_fields,', '            using=using,', '            raw=raw,', '        )'], 'pre_context_lineno': 1105, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17F500>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\manager.py', 'function': 'manager_method', 'lineno': 87, 'vars': [('self', '<django.db.models.manager.Manager object at 0x00000199ADE14760>'), ('args', '([<Student:  >],)'), ('kwargs', "{'fields': [<django.db.models.fields.related.OneToOneField: user>,\n            <django.db.models.fields.CharField: first_name>,\n            <django.db.models.fields.CharField: last_name>,\n            <django.db.models.fields.EmailField: email>,\n            <django.db.models.fields.TextField: bio>],\n 'raw': False,\n 'returning_fields': [<django.db.models.fields.BigAutoField: id>],\n 'using': 'default'}"), ('name', "'_insert'")], 'id': 1759562429696, 'pre_context': ['        return []', '', '    @classmethod', '    def _get_queryset_methods(cls, queryset_class):', '        def create_method(name, method):', '            @wraps(method)', '            def manager_method(self, *args, **kwargs):'], 'context_line': '                return getattr(self.get_queryset(), name)(*args, **kwargs)', 'post_context': ['', '            return manager_method', '', '        new_methods = {}', '        for name, method in inspect.getmembers(', '            queryset_class, predicate=inspect.isfunction'], 'pre_context_lineno': 80, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17E440>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': '_insert', 'lineno': 1847, 'vars': [('self', '<QuerySet [<Student:  >, <Student:  >, <Student:  >]>'), ('objs', '[<Student:  >]'), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('raw', 'False'), ('using', "'default'"), ('on_conflict', 'None'), ('update_fields', 'None'), ('unique_fields', 'None'), ('query', '<django.db.models.sql.subqueries.InsertQuery object at 0x00000199AE166710>')], 'id': 1759562425408, 'pre_context': ['        query = sql.InsertQuery(', '            self.model,', '            on_conflict=on_conflict,', '            update_fields=update_fields,', '            unique_fields=unique_fields,', '        )', '        query.insert_values(fields, objs, raw=raw)'], 'context_line': '        return query.get_compiler(using=using).execute_sql(returning_fields)', 'post_context': ['', '    _insert.alters_data = True', '    _insert.queryset_only = False', '', '    def _batched_insert(', '        self,'], 'pre_context_lineno': 1840, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B38C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1823, 'vars': [('self', "<SQLInsertCompiler model=Student connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('cols', '[]'), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('opts', '<Options for Student>')], 'id': 1759562643648, 'pre_context': ['            and not self.connection.features.can_return_rows_from_bulk_insert', '        )', '        opts = self.query.get_meta()', '        self.returning_fields = returning_fields', '        cols = []', '        with self.connection.cursor() as cursor:', '            for sql, params in self.as_sql():'], 'context_line': '                cursor.execute(sql, params)', 'post_context': ['            if not self.returning_fields:', '                return []', '            if (', '                self.connection.features.can_return_rows_from_bulk_insert', '                and len(self.query.objs) > 1', '            ):'], 'pre_context_lineno': 1816, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 1759562643776, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')")], 'id': 1759562643712, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17E280>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>}")], 'id': 1759562424960, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17FA80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759562431104, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF04F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x00000199AE1BC940>'), ('exc_type', "<class 'sqlite3.IntegrityError'>"), ('exc_value', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('traceback', '<traceback object at 0x00000199ADF3B400>'), ('dj_exc_type', "<class 'django.db.utils.IntegrityError'>"), ('db_exc_type', "<class 'sqlite3.IntegrityError'>"), ('dj_exc_value', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')")], 'id': 1759559831424, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF3B400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759560053760, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: POST '/marketplace/signup/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/marketplace/signup/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 62832, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'CONTENT_LENGTH': '84', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_X_CSRFTOKEN': '********************', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_X_REQUESTED_WITH': 'XMLHttpRequest', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html; q=1.0, */*', 'CONTENT_TYPE': 'application/json', 'HTTP_ORIGIN': 'http://localhost:8000', 'HTTP_SEC_FETCH_SITE': 'same-origin', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:8000/marketplace/signup/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9', 'HTTP_COOKIE': '********************', 'CSRF_COOKIE': 'oNfYqdKtpH8n54VHtt61zCnVcc8yFVYM'}, 'request_COOKIES_items': dict_items([('__stripe_mid', '09fc7c3b-8e5b-44f2-bf01-d4dd293d0b6bef0a0e'), ('csrftoken', '********************'), ('sessionid', '********************'), ('next-auth.callback-url', 'http%3A%2F%2Flocalhost%3A3000%2Fproduct%2Ftest3'), ('next-auth.csrf-token', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 6, 49, 42, 78471, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x00000199AE159C40>, 'request_FILES_items': <generator object MultiValueDict.items at 0x00000199AE159BD0>, 'request_insecure_uri': 'http://localhost:8000/marketplace/signup/', 'raising_view_name': 'marketplace.views_auth.signup', 'exception_type': 'IntegrityError', 'exception_value': 'UNIQUE constraint failed: marketplace_student.user_id', 'lastframe': {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 09:49:42,294 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\views_auth.py", line 103, in signup
    Student.objects.create(user=user)  # Assuming a Student model is linked to User
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 822, in save
    self.save_base(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 909, in save_base
    updated = self._save_table(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1071, in _save_table
    results = self._do_insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1112, in _do_insert
    return manager._insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1823, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x00000199ADF3B400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759560053760, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBE80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x00000199AC8727A0>>')], 'id': 1759562677888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1C8E00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x00000199AC8727A0>'), ('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x00000199ADB067A0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x00000199AD2D6050>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x00000199AE1BC1C0>')], 'id': 1759562731008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1C8C00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x00000199ADB06710>')], 'id': 1759562730496, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\generic\\base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('cls', "<class 'marketplace.views_auth.WrappedAPIView'>"), ('initkwargs', '{}')], 'id': 1759562677760, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE198880>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method api_view.<locals>.decorator.<locals>.handler of <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>>')], 'id': 1759562532992, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3500>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('exception_handler', '<function exception_handler at 0x00000199ADA58550>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/marketplace/signup/'>,\n 'view': <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>}"), ('response', 'None')], 'id': 1759562642688, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADBF3600>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('exc', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('renderer_format', "'api'"), ('use_plaintext_traceback', 'False')], 'id': 1759556613632, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1988C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method api_view.<locals>.decorator.<locals>.handler of <marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>>')], 'id': 1759562533056, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF13080>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\decorators.py', 'function': 'handler', 'lineno': 50, 'vars': [('self', '<marketplace.views_auth.WrappedAPIView object at 0x00000199AE1BC6D0>'), ('args', "(<rest_framework.request.Request: POST '/marketplace/signup/'>,)"), ('kwargs', '{}'), ('func', '<function signup at 0x00000199ADB065F0>')], 'id': 1759559889024, 'pre_context': ['        assert isinstance(http_method_names, (list, tuple)), \\', "            '@api_view expected a list of strings, received %s' % type(http_method_names).__name__", '', "        allowed_methods = set(http_method_names) | {'options'}", '        WrappedAPIView.http_method_names = [method.lower() for method in allowed_methods]', '', '        def handler(self, *args, **kwargs):'], 'context_line': '            return func(*args, **kwargs)', 'post_context': ['', '        for method in http_method_names:', '            setattr(WrappedAPIView, method.lower(), handler)', '', '        WrappedAPIView.__name__ = func.__name__', '        WrappedAPIView.__module__ = func.__module__'], 'pre_context_lineno': 43, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE147D80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\views_auth.py', 'function': 'signup', 'lineno': 103, 'vars': [('request', "<rest_framework.request.Request: POST '/marketplace/signup/'>"), ('username', "'lawrencew'"), ('password', "'Pluto@123'"), ('email', "'lawrencew@gmail.com'"), ('user', '<User: lawrencew>')], 'id': 1759562202496, 'pre_context': ["    password = request.data.get('password')", "    email = request.data.get('email')", '', '    if User.objects.filter(username=username).exists():', "        return Response({'error': 'Username already exists'}, status=status.HTTP_400_BAD_REQUEST)", '', '    user = User.objects.create_user(username=username, password=password, email=email)'], 'context_line': '    Student.objects.create(user=user)  # Assuming a Student model is linked to User', 'post_context': ['', "    return Response({'message': 'Sign up successful'}, status=status.HTTP_201_CREATED)", '', '', "@api_view(['POST'])", '@permission_classes([IsAuthenticated])'], 'pre_context_lineno': 96, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1BBD80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\manager.py', 'function': 'manager_method', 'lineno': 87, 'vars': [('self', '<django.db.models.manager.Manager object at 0x00000199AE164D30>'), ('args', '()'), ('kwargs', "{'user': <User: lawrencew>}"), ('name', "'create'")], 'id': 1759562677632, 'pre_context': ['        return []', '', '    @classmethod', '    def _get_queryset_methods(cls, queryset_class):', '        def create_method(name, method):', '            @wraps(method)', '            def manager_method(self, *args, **kwargs):'], 'context_line': '                return getattr(self.get_queryset(), name)(*args, **kwargs)', 'post_context': ['', '            return manager_method', '', '        new_methods = {}', '        for name, method in inspect.getmembers(', '            queryset_class, predicate=inspect.isfunction'], 'pre_context_lineno': 80, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF2AF80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'create', 'lineno': 679, 'vars': [('self', '<QuerySet [<Student:  >, <Student:  >, <Student:  >]>'), ('kwargs', "{'user': <User: lawrencew>}"), ('reverse_one_to_one_fields', 'frozenset()'), ('obj', '<Student:  >')], 'id': 1759559987072, 'pre_context': ['            raise ValueError(', '                "The following fields do not exist in this model: %s"', '                % ", ".join(reverse_one_to_one_fields)', '            )', '', '        obj = self.model(**kwargs)', '        self._for_write = True'], 'context_line': '        obj.save(force_insert=True, using=self.db)', 'post_context': ['        return obj', '', '    async def acreate(self, **kwargs):', '        return await sync_to_async(self.create)(**kwargs)', '', '    def _prepare_for_bulk_create(self, objs):'], 'pre_context_lineno': 672, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE15F240>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': 'save', 'lineno': 822, 'vars': [('force_insert', 'True'), ('force_update', 'False'), ('using', "'default'"), ('update_fields', 'None'), ('deferred_non_generated_fields', 'set()'), ('self', '<Student:  >')], 'id': 1759562297920, 'pre_context': ['            for field in self._meta.concrete_fields:', '                if not field.primary_key and not hasattr(field, "through"):', '                    field_names.add(field.attname)', '            loaded_fields = field_names.difference(deferred_non_generated_fields)', '            if loaded_fields:', '                update_fields = frozenset(loaded_fields)', ''], 'context_line': '        self.save_base(', 'post_context': ['            using=using,', '            force_insert=force_insert,', '            force_update=force_update,', '            update_fields=update_fields,', '        )', ''], 'pre_context_lineno': 815, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3100>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': 'save_base', 'lineno': 909, 'vars': [('self', '<Student:  >'), ('raw', 'False'), ('force_insert', "(<class 'marketplace.models.Student'>,)"), ('force_update', 'False'), ('using', "'default'"), ('update_fields', 'None'), ('cls', "<class 'marketplace.models.Student'>"), ('origin', "<class 'marketplace.models.Student'>"), ('meta', '<Options for Student>'), ('context_manager', '<contextlib._GeneratorContextManager object at 0x00000199AE18FA60>'), ('parent_inserted', 'False')], 'id': 1759562641664, 'pre_context': ['            parent_inserted = False', '            if not raw:', '                # Validate force insert only when parents are inserted.', '                force_insert = self._validate_force_insert(force_insert)', '                parent_inserted = self._save_parents(', '                    cls, using, update_fields, force_insert', '                )'], 'context_line': '            updated = self._save_table(', 'post_context': ['                raw,', '                cls,', '                force_insert or parent_inserted,', '                force_update,', '                using,', '                update_fields,'], 'pre_context_lineno': 902, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B39C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': '_save_table', 'lineno': 1071, 'vars': [('cls', "<class 'marketplace.models.Student'>"), ('force_insert', "(<class 'marketplace.models.Student'>,)"), ('force_update', 'False'), ('using', "'default'"), ('non_pks_non_generated', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('pk_val', 'None'), ('updated', 'False'), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('meta', '<Options for Student>'), ('pk_set', 'False'), ('raw', 'False'), ('self', '<Student:  >'), ('update_fields', 'None')], 'id': 1759562643904, 'pre_context': ['                )', '            fields = [', '                f', '                for f in meta.local_concrete_fields', '                if not f.generated and (pk_set or f is not meta.auto_field)', '            ]', '            returning_fields = meta.db_returning_fields'], 'context_line': '            results = self._do_insert(', 'post_context': ['                cls._base_manager, using, fields, returning_fields, raw', '            )', '            if results:', '                for value, field in zip(results[0], returning_fields):', '                    setattr(self, field.attname, value)', '        return updated'], 'pre_context_lineno': 1064, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE13A580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\base.py', 'function': '_do_insert', 'lineno': 1112, 'vars': [('self', '<Student:  >'), ('manager', '<django.db.models.manager.Manager object at 0x00000199ADE14760>'), ('using', "'default'"), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('raw', 'False')], 'id': 1759562147200, 'pre_context': ['        return filtered._update(values) > 0', '', '    def _do_insert(self, manager, using, fields, returning_fields, raw):', '        """', '        Do an INSERT. If returning_fields is defined then this method should', '        return the newly created data for the model.', '        """'], 'context_line': '        return manager._insert(', 'post_context': ['            [self],', '            fields=fields,', '            returning_fields=returning_fields,', '            using=using,', '            raw=raw,', '        )'], 'pre_context_lineno': 1105, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17F500>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\manager.py', 'function': 'manager_method', 'lineno': 87, 'vars': [('self', '<django.db.models.manager.Manager object at 0x00000199ADE14760>'), ('args', '([<Student:  >],)'), ('kwargs', "{'fields': [<django.db.models.fields.related.OneToOneField: user>,\n            <django.db.models.fields.CharField: first_name>,\n            <django.db.models.fields.CharField: last_name>,\n            <django.db.models.fields.EmailField: email>,\n            <django.db.models.fields.TextField: bio>],\n 'raw': False,\n 'returning_fields': [<django.db.models.fields.BigAutoField: id>],\n 'using': 'default'}"), ('name', "'_insert'")], 'id': 1759562429696, 'pre_context': ['        return []', '', '    @classmethod', '    def _get_queryset_methods(cls, queryset_class):', '        def create_method(name, method):', '            @wraps(method)', '            def manager_method(self, *args, **kwargs):'], 'context_line': '                return getattr(self.get_queryset(), name)(*args, **kwargs)', 'post_context': ['', '            return manager_method', '', '        new_methods = {}', '        for name, method in inspect.getmembers(', '            queryset_class, predicate=inspect.isfunction'], 'pre_context_lineno': 80, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17E440>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': '_insert', 'lineno': 1847, 'vars': [('self', '<QuerySet [<Student:  >, <Student:  >, <Student:  >]>'), ('objs', '[<Student:  >]'), ('fields', '[<django.db.models.fields.related.OneToOneField: user>,\n <django.db.models.fields.CharField: first_name>,\n <django.db.models.fields.CharField: last_name>,\n <django.db.models.fields.EmailField: email>,\n <django.db.models.fields.TextField: bio>]'), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('raw', 'False'), ('using', "'default'"), ('on_conflict', 'None'), ('update_fields', 'None'), ('unique_fields', 'None'), ('query', '<django.db.models.sql.subqueries.InsertQuery object at 0x00000199AE166710>')], 'id': 1759562425408, 'pre_context': ['        query = sql.InsertQuery(', '            self.model,', '            on_conflict=on_conflict,', '            update_fields=update_fields,', '            unique_fields=unique_fields,', '        )', '        query.insert_values(fields, objs, raw=raw)'], 'context_line': '        return query.get_compiler(using=using).execute_sql(returning_fields)', 'post_context': ['', '    _insert.alters_data = True', '    _insert.queryset_only = False', '', '    def _batched_insert(', '        self,'], 'pre_context_lineno': 1840, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B38C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1823, 'vars': [('self', "<SQLInsertCompiler model=Student connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('returning_fields', '[<django.db.models.fields.BigAutoField: id>]'), ('cols', '[]'), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('opts', '<Options for Student>')], 'id': 1759562643648, 'pre_context': ['            and not self.connection.features.can_return_rows_from_bulk_insert', '        )', '        opts = self.query.get_meta()', '        self.returning_fields = returning_fields', '        cols = []', '        with self.connection.cursor() as cursor:', '            for sql, params in self.as_sql():'], 'context_line': '                cursor.execute(sql, params)', 'post_context': ['            if not self.returning_fields:', '                return []', '            if (', '                self.connection.features.can_return_rows_from_bulk_insert', '                and len(self.query.objs) > 1', '            ):'], 'pre_context_lineno': 1816, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 1759562643776, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE1B3900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')")], 'id': 1759562643712, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17E280>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>}")], 'id': 1759562424960, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE17FA80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759562431104, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF04F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x00000199AE1BC940>'), ('exc_type', "<class 'sqlite3.IntegrityError'>"), ('exc_value', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')"), ('traceback', '<traceback object at 0x00000199ADF3B400>'), ('dj_exc_type', "<class 'django.db.utils.IntegrityError'>"), ('db_exc_type', "<class 'sqlite3.IntegrityError'>"), ('dj_exc_value', "IntegrityError('UNIQUE constraint failed: marketplace_student.user_id')")], 'id': 1759559831424, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199ADF3B400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>'), ('sql', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (%s, %s, %s, %s, %s) RETURNING \'\n \'"marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x00000199AE1BCCD0>})")], 'id': 1759560053760, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: POST '/marketplace/signup/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/marketplace/signup/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 62832, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'CONTENT_LENGTH': '84', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_X_CSRFTOKEN': '********************', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_X_REQUESTED_WITH': 'XMLHttpRequest', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html; q=1.0, */*', 'CONTENT_TYPE': 'application/json', 'HTTP_ORIGIN': 'http://localhost:8000', 'HTTP_SEC_FETCH_SITE': 'same-origin', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:8000/marketplace/signup/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9', 'HTTP_COOKIE': '********************', 'CSRF_COOKIE': 'oNfYqdKtpH8n54VHtt61zCnVcc8yFVYM'}, 'request_COOKIES_items': dict_items([('__stripe_mid', '09fc7c3b-8e5b-44f2-bf01-d4dd293d0b6bef0a0e'), ('csrftoken', '********************'), ('sessionid', '********************'), ('next-auth.callback-url', 'http%3A%2F%2Flocalhost%3A3000%2Fproduct%2Ftest3'), ('next-auth.csrf-token', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 6, 49, 42, 78471, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x00000199AE159C40>, 'request_FILES_items': <generator object MultiValueDict.items at 0x00000199AE159BD0>, 'request_insecure_uri': 'http://localhost:8000/marketplace/signup/', 'raising_view_name': 'marketplace.views_auth.signup', 'exception_type': 'IntegrityError', 'exception_value': 'UNIQUE constraint failed: marketplace_student.user_id', 'lastframe': {'exc_cause': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'exc_cause_explicit': IntegrityError('UNIQUE constraint failed: marketplace_student.user_id'), 'tb': <traceback object at 0x00000199AE18A640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x00000199ADF5EB90>'), ('query', '(\'INSERT INTO "marketplace_student" ("user_id", "first_name", "last_name", \'\n \'"email", "bio") VALUES (?, ?, ?, ?, ?) RETURNING "marketplace_student"."id"\')'), ('params', "(3, '', '', '', '')"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 1759562475072, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
ERROR 2024-12-10 09:49:42,365 log Internal Server Error: /marketplace/signup/
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\generic\base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\decorators.py", line 50, in handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\views_auth.py", line 103, in signup
    Student.objects.create(user=user)  # Assuming a Student model is linked to User
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 822, in save
    self.save_base(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 909, in save_base
    updated = self._save_table(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1071, in _save_table
    results = self._do_insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\base.py", line 1112, in _do_insert
    return manager._insert(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1823, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.IntegrityError: UNIQUE constraint failed: marketplace_student.user_id
DEBUG 2024-12-10 09:49:43,101 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:49:43.101239' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:49:43.101239', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:49:43,107 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:49:43,113 log Method Not Allowed: /marketplace/signup/
DEBUG 2024-12-10 09:49:49,759 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:49:49.756818' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:49:49.756818', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:49:49,759 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:51:25,803 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:51:30,723 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:30.692975' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:30.692975', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:30,725 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:51:34,208 log Method Not Allowed: /marketplace/signup/
DEBUG 2024-12-10 09:51:34,270 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:34.266029' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:34.266029', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:34,280 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:51:48,915 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:48.913945' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:48.913945', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:48,918 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:51:48,927 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
DEBUG 2024-12-10 09:51:48,934 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (None:None) 'api/'>
DEBUG 2024-12-10 09:51:48,941 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>
DEBUG 2024-12-10 09:51:49,006 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>
DEBUG 2024-12-10 09:51:49,014 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>
DEBUG 2024-12-10 09:51:49,020 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>
DEBUG 2024-12-10 09:51:49,026 base Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\marketplace\middleware.py", line 22, in __call__
    current_path = resolve(request.path_info).route
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\base.py", line 24, in resolve
    return get_resolver(urlconf).resolve(path)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\urls\resolvers.py", line 725, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLPattern '^static/(?P<path>.*)'>], [<URLPattern '^media/(?P<path>.*)'>], [<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (None:None) 'api/'>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/home/' [name='home-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/<slug:slug>/meta/' [name='page-meta']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/categories/' [name='faq-categories']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/faqs/search/' [name='faq-search']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/settings/' [name='site-settings']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/newsletter/subscribe/' [name='newsletter-subscribe']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/feedback/' [name='submit-feedback']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/preview/<slug:slug>/' [name='preview-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/publish/<slug:slug>/' [name='publish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/pages/unpublish/<slug:slug>/' [name='unpublish-page']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/featured/' [name='featured-testimonials']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/approve/<int:pk>/' [name='approve-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/testimonials/reject/<int:pk>/' [name='reject-testimonial']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/departments/' [name='contact-departments']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/contact/support/' [name='contact-support']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/sitemap/' [name='sitemap']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/robots/' [name='robots']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/seo/meta-tags/' [name='meta-tags']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/clear/' [name='clear-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/cache/warm/' [name='warm-cache']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/page-views/' [name='page-views']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/analytics/popular-pages/' [name='popular-pages']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/preview/pages/<slug:slug>/' [name='preview-draft']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/contact/' [name='test-contact']>], [<URLResolver <module 'staticpages.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\staticpages\\urls.py'> (None:None) ''>, <URLPattern 'api/test/newsletter/' [name='test-newsletter']>], [<URLResolver <module 'marketplace.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\marketplace\\urls.py'> (None:None) 'marketplace/'>], [<URLResolver <module 'products.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\urls.py'> (products:products) 'products/'>], [<URLResolver <module 'orders.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\orders\\urls.py'> (None:None) 'orders/'>], [<URLResolver <module 'payment.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\payment\\urls.py'> (None:None) 'payment/'>], [<URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>], [<URLPattern '^media/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 885, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'adminapp.urls' from 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\adminapp\\urls.py'> (None:None) 'adminapp/'>
DEBUG 2024-12-10 09:51:49,039 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:49.037602' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:49.037602', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:49,041 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:51:49,436 utils (0.000) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "auth_user" ON ("django_admin_log"."user_id" = "auth_user"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 1 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(1,); alias=default
DEBUG 2024-12-10 09:51:55,261 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:55.259163' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:55.259163', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:55,263 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:51:55,268 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" ORDER BY "auth_group"."name" ASC; args=(); alias=default
DEBUG 2024-12-10 09:51:55,269 utils (0.000) SELECT COUNT(*) AS "__count" FROM "auth_user"; args=(); alias=default
DEBUG 2024-12-10 09:51:55,270 utils (0.000) SELECT COUNT(*) AS "__count" FROM "auth_user"; args=(); alias=default
DEBUG 2024-12-10 09:51:55,274 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" ORDER BY "auth_user"."username" ASC; args=(); alias=default
DEBUG 2024-12-10 09:51:55,566 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:51:55.563412' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:51:55.563412', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:51:55,598 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:52:05,926 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:52:05.924539' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:52:05.924539', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:52:05,929 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:52:05,932 utils (0.000) BEGIN; args=None; alias=default
DEBUG 2024-12-10 09:52:05,934 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 3 LIMIT 21; args=(3,); alias=default
DEBUG 2024-12-10 09:52:05,936 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" INNER JOIN "auth_user_groups" ON ("auth_group"."id" = "auth_user_groups"."group_id") WHERE "auth_user_groups"."user_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 09:52:05,943 utils (0.000) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "auth_user_user_permissions" ON ("auth_permission"."id" = "auth_user_user_permissions"."permission_id") INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_user_user_permissions"."user_id" = 3 ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(3,); alias=default
DEBUG 2024-12-10 09:52:05,959 utils (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user') LIMIT 21; args=('auth', 'user'); alias=default
DEBUG 2024-12-10 09:52:05,960 utils (0.000) COMMIT; args=None; alias=default
DEBUG 2024-12-10 09:52:06,056 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" ORDER BY "auth_group"."name" ASC; args=(); alias=default
DEBUG 2024-12-10 09:52:06,087 utils (0.031) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(); alias=default
DEBUG 2024-12-10 09:52:06,210 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:52:06.208579' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:52:06.208579', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:52:06,211 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:55:41,421 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:55:41.419491' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:55:41.419491', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:55:41,423 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 09:55:41,423 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 09:55:44,719 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:55:44.710796' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:55:44.710796', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:55:44,723 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:55:44,726 utils (0.000) BEGIN; args=None; alias=default
DEBUG 2024-12-10 09:55:44,727 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 3 LIMIT 21; args=(3,); alias=default
DEBUG 2024-12-10 09:55:44,733 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" INNER JOIN "auth_user_groups" ON ("auth_group"."id" = "auth_user_groups"."group_id") WHERE "auth_user_groups"."user_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 09:55:44,737 utils (0.016) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "auth_user_user_permissions" ON ("auth_permission"."id" = "auth_user_user_permissions"."permission_id") INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_user_user_permissions"."user_id" = 3 ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(3,); alias=default
DEBUG 2024-12-10 09:55:44,743 utils (0.000) COMMIT; args=None; alias=default
DEBUG 2024-12-10 09:55:44,757 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" ORDER BY "auth_group"."name" ASC; args=(); alias=default
DEBUG 2024-12-10 09:55:44,758 utils (0.000) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(); alias=default
DEBUG 2024-12-10 09:55:44,829 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:55:44.828238' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:55:44.828238', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:55:44,831 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:56:24,351 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:56:25,207 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:56:25.204461' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:56:25.204461', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:56:25,207 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:56:25,801 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:56:25.801732' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:56:25.801732', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:56:25,801 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:56:25,950 utils (0.000) BEGIN; args=None; alias=default
DEBUG 2024-12-10 09:56:25,950 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 3 LIMIT 21; args=(3,); alias=default
DEBUG 2024-12-10 09:56:25,950 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" INNER JOIN "auth_user_groups" ON ("auth_group"."id" = "auth_user_groups"."group_id") WHERE "auth_user_groups"."user_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 09:56:25,950 utils (0.000) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "auth_user_user_permissions" ON ("auth_permission"."id" = "auth_user_user_permissions"."permission_id") INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_user_user_permissions"."user_id" = 3 ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(3,); alias=default
DEBUG 2024-12-10 09:56:26,002 utils (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" = 'user') LIMIT 21; args=('auth', 'user'); alias=default
DEBUG 2024-12-10 09:56:26,002 utils (0.000) COMMIT; args=None; alias=default
DEBUG 2024-12-10 09:56:26,044 utils (0.000) SELECT "auth_group"."id", "auth_group"."name" FROM "auth_group" ORDER BY "auth_group"."name" ASC; args=(); alias=default
DEBUG 2024-12-10 09:56:26,050 utils (0.000) SELECT "auth_permission"."id", "auth_permission"."name", "auth_permission"."content_type_id", "auth_permission"."codename", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(); alias=default
DEBUG 2024-12-10 09:56:26,128 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:56:26.128651' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:56:26.128651', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:56:26,132 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 09:56:46,302 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 09:56:46,726 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 06:56:46.723578' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 06:56:46.723578', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 09:56:46,729 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 10:00:23,427 utils (1.188) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:00:21.999561' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:00:21.999561', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:00:23,428 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 10:00:34,369 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 10:00:35,686 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:00:35.686194' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:00:35.686194', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:00:35,686 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 10:01:16,472 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 10:01:16,720 utils (0.140) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:01:16.472160' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:01:16.472160', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:01:16,721 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 10:13:00,308 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:13:00.288424' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:13:00.288424', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:13:00,308 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 10:47:35,560 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 10:50:24,046 utils (0.094) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:50:21.242896' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:50:21.242896', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:50:24,783 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 10:51:09,479 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 10:51:10,874 utils (0.953) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:51:09.475909' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:51:09.475909', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 10:51:10,877 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 10:51:30,978 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:51:30.976157' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:51:30.976157', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 10:51:30,979 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 10:51:31,397 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 10:52:00,711 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew@gmail.com' LIMIT 21; args=('lawrencew@gmail.com',); alias=default
WARNING 2024-12-10 10:52:01,070 log Unauthorized: /marketplace/token/
DEBUG 2024-12-10 10:59:14,280 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew' LIMIT 21; args=('lawrencew',); alias=default
DEBUG 2024-12-10 10:59:17,110 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 07:59:17.110338' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 07:59:17.110338', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 10:59:17,110 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 10:59:17,118 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:00:08,433 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:00:08,710 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:00:08.710173' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:00:08.710173', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:00:08,881 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:00:11,280 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:00:11.280834' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:00:11.280834', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:00:11,280 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:00:11,291 log Unauthorized: /marketplace/api/wishlist/
WARNING 2024-12-10 11:00:14,817 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:00:15,130 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:00:15.130552' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:00:15.130552', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:00:15,130 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:00:30,982 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew' LIMIT 21; args=('lawrencew',); alias=default
WARNING 2024-12-10 11:00:44,909 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:00:44,980 log Unauthorized: /products/api/categories/
DEBUG 2024-12-10 11:00:45,069 utils (0.047) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE "products_product"."is_active"; args=(); alias=default
DEBUG 2024-12-10 11:00:45,076 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE "products_product"."is_active" ORDER BY "products_product"."created_at" DESC LIMIT 4; args=(); alias=default
DEBUG 2024-12-10 11:00:45,183 utils (0.000) SELECT "marketplace_review"."id", "marketplace_review"."product_id", "marketplace_review"."reviewer_id", "marketplace_review"."rating", "marketplace_review"."comment", "marketplace_review"."timestamp" FROM "marketplace_review" WHERE "marketplace_review"."product_id" IN (4, 3, 2, 1); args=(4, 3, 2, 1); alias=default
DEBUG 2024-12-10 11:00:46,242 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 4; args=(4,); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.016) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 4 LIMIT 1; args=(1, 4); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 3 LIMIT 1; args=(1, 3); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 2; args=(2,); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 2 LIMIT 1; args=(1, 2); alias=default
DEBUG 2024-12-10 11:00:46,309 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 1; args=(1,); alias=default
DEBUG 2024-12-10 11:00:46,319 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 1 LIMIT 1; args=(1, 1); alias=default
DEBUG 2024-12-10 11:00:52,775 utils (0.031) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date" FROM "products_product" WHERE ("products_product"."is_active" AND "products_product"."slug" = 'test2-1') LIMIT 21; args=('test2-1',); alias=default
DEBUG 2024-12-10 11:00:53,241 utils (0.313) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:00:53,358 utils (0.109) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:00:53,371 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:00:53,396 utils (0.031) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 11:00:53,403 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 1 LIMIT 21; args=(1,); alias=default
ERROR 2024-12-10 11:00:53,406 log Internal Server Error: /products/api/products/test2-1/
DEBUG 2024-12-10 11:00:53,544 utils (0.125) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:00:53,608 utils (0.063) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:00:53,608 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:00:53,608 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 11:00:53,608 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 1 LIMIT 21; args=(1,); alias=default
ERROR 2024-12-10 11:00:53,608 log Internal Server Error: /products/api/products/test2-1/
WARNING 2024-12-10 11:01:08,897 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:01:08,917 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:01:24,750 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:01:24,765 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:01:52,145 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:01:52,446 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:01:52.441880' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:01:52.441880', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:01:52,448 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:03:44,795 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew' LIMIT 21; args=('lawrencew',); alias=default
WARNING 2024-12-10 11:03:56,276 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:03:56,298 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:10:12,590 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:10:12,599 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:12:47,275 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:12:47,275 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:12:47,291 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:12:47.275121' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:12:47.275121', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:12:47,299 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:15:59,195 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:15:59,205 log Unauthorized: /products/api/categories/
DEBUG 2024-12-10 11:16:00,259 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:16:00.257764' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:16:00.257764', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:16:00,259 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:16:47,961 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:16:47.958614' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:16:47.958614', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 11:16:47,963 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:16:47,990 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:16:56,342 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:16:56,537 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:16:58,126 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:16:58,166 log Unauthorized: /products/api/categories/
DEBUG 2024-12-10 11:17:01,393 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:17:01.389346' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:17:01.389346', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:17:01,396 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:17:16,922 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:17:16.922116' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:17:16.922116', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 11:17:16,931 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:17:16,933 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:17:16,933 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:17:18,435 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:17:18,553 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:17:19,914 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:17:19,928 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:17:20,217 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:17:20.217766' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:17:20.217766', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:17:20,217 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:18:14,108 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:18:14.105328' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:18:14.105328', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:18:14,114 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:18:15,302 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:18:15.302635' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:18:15.302635', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 11:18:15,315 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:18:15,316 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:18:15,622 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:18:28,338 utils (0.047) SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)); args=('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:28,527 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)); args=('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:31,545 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)); args=('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:32,822 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)); args=('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,494 utils (0.032) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')), MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,495 utils (0.032) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')), MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,496 utils (0.032) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')), MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,496 utils (0.032) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')), MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,531 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')), MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,539 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')), MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,569 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')), MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,588 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')), MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,803 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')), MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,817 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')), MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,818 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')), MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,823 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')), MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,826 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')), MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,828 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')), MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,831 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')), MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,835 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')), MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,838 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')), MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('test')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'test'), SIMILARITY("products_product"."description", 'test'), SIMILARITY("products_category"."name", 'test')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 'test', 'test', 'test', '', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,840 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')), MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('te')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'te'), SIMILARITY("products_product"."description", 'te'), SIMILARITY("products_category"."name", 'te')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 'te', 'te', 'te', '', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,842 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')), MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('tes')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 'tes'), SIMILARITY("products_product"."description", 'tes'), SIMILARITY("products_category"."name", 'tes')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 'tes', 'tes', 'tes', '', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3); alias=default
DEBUG 2024-12-10 11:18:33,845 utils (0.000) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) AS "search_rank", MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) AS "similarity", MAX(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')), MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't'))) AS "search_score", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") WHERE ("products_product"."is_active" AND (ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", '')), 'A') || setweight(to_tsvector(COALESCE("products_product"."description", '')), 'B')) || setweight(to_tsvector(COALESCE("products_category"."name", '')), 'C')), plainto_tsquery('t')) >= 0.3 OR MAX(SIMILARITY("products_product"."title", 't'), SIMILARITY("products_product"."description", 't'), SIMILARITY("products_category"."name", 't')) >= 0.3)) ORDER BY 23 DESC LIMIT 21; args=('', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 't', 't', 't', '', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3); alias=default
DEBUG 2024-12-10 11:18:34,370 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62B4DE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765486080, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5ABC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041765538752, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627AFE80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62AAE2F0>')], 'id': 2041761693312, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B300>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041765540608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D8C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765484736, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59900>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>')], 'id': 2041765533952, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5ADC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62AACF40>}"), ('response', 'None')], 'id': 2041765539264, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B740>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041765541696, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59FC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>')], 'id': 2041765535680, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B58DC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['t'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 't', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-t-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765531072, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB626F3140>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041760919872, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59940>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B2F040>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('page_number', "'1'")], 'id': 2041765534016, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('number', "'1'")], 'id': 2041765541184, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('number', '1')], 'id': 2041765531520, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B57200>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765523968, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B553C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>')], 'id': 2041765516224, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B551C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765515712, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B57580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765524864, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627AC9C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761679808, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D3C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62B2F070>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>')], 'id': 2041765483456, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4ED40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>')], 'id': 2041765489984, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4CF00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>')], 'id': 2041765482240, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E600>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765488128, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FD00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)")], 'id': 2041765494016, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E0C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>}")], 'id': 2041765486784, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E4C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765487808, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D1C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62B2E3B0>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62B4DE00>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041765482944, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4DE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765486080, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=t&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49675, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 370296, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD1D90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD1230>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:34,401 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62768540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761400128, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B45E00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041765453312, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B073C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62AEA560>')], 'id': 2041765196736, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768200>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041761399296, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B47580>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765459328, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627699C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>')], 'id': 2041761405376, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769640>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62AEBB50>}"), ('response', 'None')], 'id': 2041761404480, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276BF00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041761414912, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769980>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>')], 'id': 2041761405312, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769180>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['te'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'te', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-te-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761403264, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA3940>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041764788544, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627682C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B2E920>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('page_number', "'1'")], 'id': 2041761399488, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276BFC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('number', "'1'")], 'id': 2041761415104, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A080>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('number', '1')], 'id': 2041761407104, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768CC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041761402048, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768A80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>')], 'id': 2041761401472, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276AFC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041761411008, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761403904, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA2300>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041764782848, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B5C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62AE9CC0>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>')], 'id': 2041761412544, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0C00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>')], 'id': 2041764776960, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0500>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>')], 'id': 2041764775168, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA3600>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041764787712, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)")], 'id': 2041764775296, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768A40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>}")], 'id': 2041761401408, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B8C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761413312, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B180>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62AEA260>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62768540>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041761411456, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761400128, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=te&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49681, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 401755, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD0EB0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD1C40>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:34,401 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62C58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766580096, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C579C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041766574528, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C57AC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62C19630>')], 'id': 2041766574784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041766583680, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C57E80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041766575744, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>')], 'id': 2041766583616, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62C199F0>}"), ('response', 'None')], 'id': 2041766583552, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59CC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041766583488, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>')], 'id': 2041766583424, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58C40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['test'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'test', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-test-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766579264, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C6B7C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766655936, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62C19F00>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('page_number', "'1'")], 'id': 2041766583296, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('number', "'1'")], 'id': 2041766583360, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59BC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('number', '1')], 'id': 2041766583232, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59B80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041766583168, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C597C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>')], 'id': 2041766582208, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C11E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041766289024, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C13880>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766295680, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C6B800>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766656000, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62741D40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62C1AD70>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>')], 'id': 2041761242432, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C04840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))),\n Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>')], 'id': 2041766234176, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B1E540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>')], 'id': 2041765291328, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765963328, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5E140>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)")], 'id': 2041765552448, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BB2140>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>}")], 'id': 2041765896512, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58D00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766579456, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59740>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62C1B820>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62C58F80>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041766582080, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766580096, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=test&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49740, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 321052, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD29D0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD2A40>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:34,401 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62BC1980>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765960064, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6275B8C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041761347776, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62782C80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62B76C80>')], 'id': 2041761508480, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041765965440, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BB9380>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765925760, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>')], 'id': 2041765965376, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62B7A500>}"), ('response', 'None')], 'id': 2041765965312, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041765965184, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2DC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>')], 'id': 2041765965248, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['tes'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'tes', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-tes-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765965120, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC0880>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765955712, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B7BDC0>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('page_number', "'1'")], 'id': 2041765965056, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC29C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('number', "'1'")], 'id': 2041765964224, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC0900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('number', '1')], 'id': 2041765955840, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BA1E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765830272, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62761C80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>')], 'id': 2041761373312, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AD1E40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041764978240, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B3E180>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765421440, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62759DC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761340864, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B8D840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62BB6AA0>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>')], 'id': 2041765746752, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B8C840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>')], 'id': 2041765742656, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627698C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>')], 'id': 2041761405120, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4EA40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765489216, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AD1900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)")], 'id': 2041764976896, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC1D80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>}")], 'id': 2041765961088, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC26C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765963456, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62BB75E0>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62BC1980>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041765963840, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC1980>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765960064, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=tes&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49684, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 401755, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD1E00>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD2E30>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:36,913 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62B4DE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765486080, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5ABC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041765538752, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627AFE80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62AAE2F0>')], 'id': 2041761693312, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B300>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041765540608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D8C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765484736, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59900>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>')], 'id': 2041765533952, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5ADC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62AACF40>}"), ('response', 'None')], 'id': 2041765539264, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B740>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041765541696, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59FC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AACF40>>')], 'id': 2041765535680, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B58DC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['t'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 't', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-t-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765531072, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB626F3140>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041760919872, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B59940>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B2F040>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62AACF40>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('page_number', "'1'")], 'id': 2041765534016, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5B540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('number', "'1'")], 'id': 2041765541184, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('number', '1')], 'id': 2041765531520, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B57200>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765523968, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B553C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>')], 'id': 2041765516224, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B551C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765515712, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B57580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B2F460>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765524864, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627AC9C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761679808, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D3C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62B2F070>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>')], 'id': 2041765483456, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4ED40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('t'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('t')), TrigramSimilarity(Col(products_product, products.Product.description), Value('t')), TrigramSimilarity(Col(products_category, products.Category.name), Value('t'))))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62B2CA90>')], 'id': 2041765489984, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4CF00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>')], 'id': 2041765482240, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E600>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765488128, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FD00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)")], 'id': 2041765494016, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E0C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>}")], 'id': 2041765486784, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4E4C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765487808, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4D1C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62B2E3B0>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62B4DE00>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041765482944, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4DE00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62B2CEE0>})")], 'id': 2041765486080, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=t&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49675, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 370296, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD1D90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD1230>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=t&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4FC40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB626AD090>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 't', 0.3, 't', 't', 't', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765493824, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:36,915 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62768540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761400128, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B45E00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041765453312, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B073C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62AEA560>')], 'id': 2041765196736, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768200>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041761399296, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B47580>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765459328, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627699C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>')], 'id': 2041761405376, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769640>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62AEBB50>}"), ('response', 'None')], 'id': 2041761404480, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276BF00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041761414912, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769980>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62AEBB50>>')], 'id': 2041761405312, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769180>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['te'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'te', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-te-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761403264, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA3940>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041764788544, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627682C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B2E920>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62AEBB50>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('page_number', "'1'")], 'id': 2041761399488, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276BFC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('number', "'1'")], 'id': 2041761415104, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A080>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('number', '1')], 'id': 2041761407104, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768CC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041761402048, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768A80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>')], 'id': 2041761401472, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276AFC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041761411008, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62769400>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62AEAC80>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761403904, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA2300>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041764782848, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B5C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62AE9CC0>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>')], 'id': 2041761412544, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0C00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('te'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('te')), TrigramSimilarity(Col(products_product, products.Product.description), Value('te')), TrigramSimilarity(Col(products_category, products.Category.name), Value('te')))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62AE9F90>')], 'id': 2041764776960, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0500>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>')], 'id': 2041764775168, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA3600>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041764787712, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AA0580>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)")], 'id': 2041764775296, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768A40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>}")], 'id': 2041761401408, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B8C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761413312, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276B180>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62AEA260>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62768540>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041761411456, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62768540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62AEB9D0>})")], 'id': 2041761400128, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=te&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49681, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 401755, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD0EB0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD1C40>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=te&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6276A900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62732A70>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'te', 0.3, 'te', 'te', 'te', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041761409280, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:36,915 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62C58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766580096, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C579C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041766574528, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C57AC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62C19630>')], 'id': 2041766574784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041766583680, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C57E80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041766575744, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>')], 'id': 2041766583616, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59D00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62C199F0>}"), ('response', 'None')], 'id': 2041766583552, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59CC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041766583488, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62C199F0>>')], 'id': 2041766583424, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58C40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['test'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'test', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-test-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766579264, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C6B7C0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766655936, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62C19F00>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62C199F0>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('page_number', "'1'")], 'id': 2041766583296, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59C40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('number', "'1'")], 'id': 2041766583360, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59BC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('number', '1')], 'id': 2041766583232, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59B80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041766583168, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C597C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>')], 'id': 2041766582208, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C11E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041766289024, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C13880>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62C1A080>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766295680, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C6B800>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041766656000, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62741D40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62C1AD70>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>')], 'id': 2041761242432, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C04840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))),\n Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('test'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('test')), TrigramSimilarity(Col(products_product, products.Product.description), Value('test')), TrigramSimilarity(Col(products_category, products.Category.name), Value('test'))))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62C19F90>')], 'id': 2041766234176, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B1E540>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>')], 'id': 2041765291328, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2640>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765963328, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B5E140>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)")], 'id': 2041765552448, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BB2140>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>}")], 'id': 2041765896512, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58D00>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766579456, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C59740>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62C1B820>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62C58F80>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041766582080, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62C58F80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62C1B8B0>})")], 'id': 2041766580096, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=test&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49740, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 321052, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD29D0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD2A40>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=test&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AF3680>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62AD6440>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'test', 0.3, 'test', 'test', 'test', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765115520, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
DEBUG 2024-12-10 11:18:36,937 base Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 875, in _resolve_lookup
    current = current[bit]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\context.py", line 83, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 881, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 891, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\template\base.py", line 898, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62BC1980>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765960064, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB6275B8C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('exc', "OperationalError('no such function: ts_rank')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>>')], 'id': 2041761347776, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62782C80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\handlers\\base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x000001DB61272980>'), ('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('response', 'None'), ('callback', '<function ProductViewSet at 0x000001DB6265C0D0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x000001DB61EF04F0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x000001DB62B76C80>')], 'id': 2041761508480, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\views\\decorators\\csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function ProductViewSet at 0x000001DB6265C040>')], 'id': 2041765965440, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BB9380>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\viewsets.py', 'function': 'view', 'lineno': 124, 'vars': [('request', "<ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('method', "'head'"), ('action', "'search'"), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>'), ('actions', "{'get': 'search', 'head': 'search'}"), ('cls', "<class 'products.views.ProductViewSet'>"), ('initkwargs', "{'basename': 'product',\n 'description': 'Advanced product search with caching',\n 'detail': False,\n 'name': 'Search'}")], 'id': 2041765925760, 'pre_context': ['                setattr(self, method, handler)', '', '            self.request = request', '            self.args = args', '            self.kwargs = kwargs', '', '            # And continue as usual'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        # take name and docstring from class', '        update_wrapper(view, cls, updated=())', '', '        # and possible attributes set by decorators', '        # like csrf_exempt from dispatch'], 'pre_context_lineno': 117, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>')], 'id': 2041765965376, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2E00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('exc', "OperationalError('no such function: ts_rank')"), ('exception_handler', '<function exception_handler at 0x000001DB6233BF40>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>,\n 'view': <products.views.ProductViewSet object at 0x000001DB62B7A500>}"), ('response', 'None')], 'id': 2041765965312, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D80>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('exc', "OperationalError('no such function: ts_rank')"), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 2041765965184, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2DC0>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ProductViewSet.search of <products.views.ProductViewSet object at 0x000001DB62B7A500>>')], 'id': 2041765965248, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D40>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\.\\products\\views.py', 'function': 'search', 'lineno': 203, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('serializer', "ProductSearchSerializer(data=<QueryDict: {'query': ['tes'], 'sort_by': ['newest'], 'in_stock': ['false'], 'page': ['1']}>):\n    query = CharField(allow_blank=True, required=False)\n    category = IntegerField(required=False)\n    min_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    max_price = DecimalField(decimal_places=2, max_digits=10, required=False, validators=[<django.core.validators.MinValueValidator object>, <django.core.validators.MaxValueValidator object>])\n    condition = ChoiceField(choices=[('new', 'New'), ('like_new', 'Like New'), ('good', 'Good'), ('fair', 'Fair')], required=False)\n    sort_by = ChoiceField(choices=['price_asc', 'price_desc', 'newest', 'rating', 'popularity'], required=False)\n    in_stock = BooleanField(required=False)"), ('data', "{'in_stock': False, 'query': 'tes', 'sort_by': 'newest'}"), ('cache_key', "'products:search:querydict-query-tes-sort_by-newest-in_stock-false-page-1'"), ('cached_results', 'None'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765965120, 'pre_context': ["                'condition': data.get('condition'),", "                'sort_by': data.get('sort_by'),", "                'in_stock': data.get('in_stock'),", '            }', '        )', '', '        # Handle pagination'], 'context_line': '        page = self.paginate_queryset(queryset)', 'post_context': ['        if page is not None:', '            serializer = ProductListSerializer(', '                page,', '                many=True,', "                context={'request': request}", '            )'], 'pre_context_lineno': 196, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC0880>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\generics.py', 'function': 'paginate_queryset', 'lineno': 175, 'vars': [('self', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765955712, 'pre_context': ['', '    def paginate_queryset(self, queryset):', '        """', '        Return a single page of results, or `None` if pagination is disabled.', '        """', '        if self.paginator is None:', '            return None'], 'context_line': '        return self.paginator.paginate_queryset(queryset, self.request, view=self)', 'post_context': ['', '    def get_paginated_response(self, data):', '        """', '        Return a paginated style `Response` object for the given output data.', '        """', '        assert self.paginator is not None'], 'pre_context_lineno': 168, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2D00>, 'type': 'user', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\rest_framework\\pagination.py', 'function': 'paginate_queryset', 'lineno': 211, 'vars': [('self', '<rest_framework.pagination.PageNumberPagination object at 0x000001DB62B7BDC0>'), ('queryset', 'Error in formatting: OperationalError: no such function: ts_rank'), ('request', "<rest_framework.request.Request: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>"), ('view', '<products.views.ProductViewSet object at 0x000001DB62B7A500>'), ('page_size', '10'), ('paginator', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('page_number', "'1'")], 'id': 2041765965056, 'pre_context': ['        if not page_size:', '            return None', '', '        paginator = self.django_paginator_class(queryset, page_size)', '        page_number = self.get_page_number(request, paginator)', '', '        try:'], 'context_line': '            self.page = paginator.page(page_number)', 'post_context': ['        except InvalidPage as exc:', '            msg = self.invalid_page_message.format(', '                page_number=page_number, message=str(exc)', '            )', '            raise NotFound(msg)', ''], 'pre_context_lineno': 204, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC29C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'page', 'lineno': 89, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('number', "'1'")], 'id': 2041765964224, 'pre_context': ['            number = 1', '        except EmptyPage:', '            number = self.num_pages', '        return self.page(number)', '', '    def page(self, number):', '        """Return a Page object for the given 1-based page number."""'], 'context_line': '        number = self.validate_number(number)', 'post_context': ['        bottom = (number - 1) * self.per_page', '        top = bottom + self.per_page', '        if top + self.orphans >= self.count:', '            top = self.count', '        return self._get_page(self.object_list[bottom:top], number, self)', ''], 'pre_context_lineno': 82, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC0900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'validate_number', 'lineno': 70, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('number', '1')], 'id': 2041765955840, 'pre_context': ['            if isinstance(number, float) and not number.is_integer():', '                raise ValueError', '            number = int(number)', '        except (TypeError, ValueError):', '            raise PageNotAnInteger(self.error_messages["invalid_page"])', '        if number < 1:', '            raise EmptyPage(self.error_messages["min_page"])'], 'context_line': '        if number > self.num_pages:', 'post_context': ['            raise EmptyPage(self.error_messages["no_results"])', '        return number', '', '    def get_page(self, number):', '        """', "        Return a valid page, even if the page argument isn't a number or isn't"], 'pre_context_lineno': 63, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BA1E80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173880>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041765830272, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62761C80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'num_pages', 'lineno': 116, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>')], 'id': 2041761373312, 'pre_context': ['        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):', '            return c()', '        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""'], 'context_line': '        if self.count == 0 and not self.allow_empty_first_page:', 'post_context': ['            return 0', '        hits = max(1, self.count - self.orphans)', '        return ceil(hits / self.per_page)', '', '    @property', '    def page_range(self):'], 'pre_context_lineno': 109, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AD1E40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\utils\\functional.py', 'function': '__get__', 'lineno': 47, 'vars': [('self', '<django.utils.functional.cached_property object at 0x000001DB61173820>'), ('instance', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('cls', "<class 'django.core.paginator.Paginator'>")], 'id': 2041764978240, 'pre_context': ['        """', '        Call the function and put the return value in instance.__dict__ so that', '        subsequent attribute access on the instance returns the cached value', '        instead of calling cached_property.__get__().', '        """', '        if instance is None:', '            return self'], 'context_line': '        res = instance.__dict__[self.name] = self.func(instance)', 'post_context': ['        return res', '', '', 'class classproperty:', '    """', '    Decorator that converts a method with a single cls argument into a property'], 'pre_context_lineno': 40, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B3E180>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\core\\paginator.py', 'function': 'count', 'lineno': 110, 'vars': [('self', '<django.core.paginator.Paginator object at 0x000001DB62B7BEB0>'), ('c', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041765421440, 'pre_context': ['        return Page(*args, **kwargs)', '', '    @cached_property', '    def count(self):', '        """Return the total number of objects, across all pages."""', '        c = getattr(self.object_list, "count", None)', '        if callable(c) and not inspect.isbuiltin(c) and method_has_no_args(c):'], 'context_line': '            return c()', 'post_context': ['        return len(self.object_list)', '', '    @cached_property', '    def num_pages(self):', '        """Return the total number of pages."""', '        if self.count == 0 and not self.allow_empty_first_page:'], 'pre_context_lineno': 103, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62759DC0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\query.py', 'function': 'count', 'lineno': 620, 'vars': [('self', 'Error in formatting: OperationalError: no such function: ts_rank')], 'id': 2041761340864, 'pre_context': ['', '        If the QuerySet is already fully cached, return the length of the', '        cached results set to avoid multiple SELECT COUNT(*) calls.', '        """', '        if self._result_cache is not None:', '            return len(self._result_cache)', ''], 'context_line': '        return self.query.get_count(using=self.db)', 'post_context': ['', '    async def acount(self):', '        return await sync_to_async(self.count)()', '', '    def get(self, *args, **kwargs):', '        """'], 'pre_context_lineno': 613, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B8D840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_count', 'lineno': 629, 'vars': [('self', '<django.db.models.sql.query.Query object at 0x000001DB62BB6AA0>'), ('using', "'default'"), ('obj', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>')], 'id': 2041765746752, 'pre_context': ['        return dict(zip(outer_query.annotation_select, result))', '', '    def get_count(self, using):', '        """', '        Perform a COUNT() query using the current filter constraints.', '        """', '        obj = self.clone()'], 'context_line': '        return obj.get_aggregation(using, {"__count": Count("*")})["__count"]', 'post_context': ['', '    def has_filters(self):', '        return self.where', '', '    def exists(self, limit=True):', '        q = self.clone()'], 'pre_context_lineno': 622, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B8C840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\query.py', 'function': 'get_aggregation', 'lineno': 615, 'vars': [('using', "'default'"), ('aggregate_exprs', "{'__count': Count('*')}"), ('refs_subquery', 'False'), ('refs_window', 'False'), ('annotation_select_mask', 'None'), ('alias', "'__count'"), ('aggregate_expr', "Count('*')"), ('aggregate', "Count('*')"), ('aggregates', "{'__count': Count('*')}"), ('_', "<WhereNode: (AND: Exact(Col(products_product, products.Product.is_active), True), (OR: GreaterThanOrEqual(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), 0.3), GreaterThanOrEqual(Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes'))), 0.3)))>"), ('having', 'None'), ('qualify', 'None'), ('has_existing_aggregation', 'None'), ('outer_query', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>'), ('empty_set_result', '[0]'), ('elide_empty', 'True'), ('compiler', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('replacements', "{Ref(search_rank, SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes')))): SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))),\n Ref(search_score, Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes'))))): Greatest(SearchRank(SearchVector(Col(products_product, products.Product.title)) || SearchVector(Col(products_product, products.Product.description)) || SearchVector(Col(products_category, products.Category.name)), SearchQuery(Value('tes'))), Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))),\n Ref(similarity, Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))): Greatest(TrigramSimilarity(Col(products_product, products.Product.title), Value('tes')), TrigramSimilarity(Col(products_product, products.Product.description), Value('tes')), TrigramSimilarity(Col(products_category, products.Category.name), Value('tes')))}"), ('self', '<django.db.models.sql.query.Query object at 0x000001DB62B80340>')], 'id': 2041765742656, 'pre_context': ['        ]', '        elide_empty = not any(result is NotImplemented for result in empty_set_result)', '        outer_query.clear_ordering(force=True)', '        outer_query.clear_limits()', '        outer_query.select_for_update = False', '        outer_query.select_related = False', '        compiler = outer_query.get_compiler(using, elide_empty=elide_empty)'], 'context_line': '        result = compiler.execute_sql(SINGLE)', 'post_context': ['        if result is None:', '            result = empty_set_result', '        else:', '            converters = compiler.get_converters(outer_query.annotation_select.values())', '            result = next(compiler.apply_converters((result,), converters))', ''], 'pre_context_lineno': 608, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB627698C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\models\\sql\\compiler.py', 'function': 'execute_sql', 'lineno': 1562, 'vars': [('self', "<SQLCompiler model=Product connection=<DatabaseWrapper vendor='sqlite' alias='default'> using='default'>"), ('result_type', "'single'"), ('chunked_fetch', 'False'), ('chunk_size', '100'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('cursor', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>')], 'id': 2041761405120, 'pre_context': ['            else:', '                return', '        if chunked_fetch:', '            cursor = self.connection.chunked_cursor()', '        else:', '            cursor = self.connection.cursor()', '        try:'], 'context_line': '            cursor.execute(sql, params)', 'post_context': ['        except Exception:', '            # Might fail for server-side cursors (e.g. connection closed)', '            cursor.close()', '            raise', '', '        if result_type == CURSOR:'], 'pre_context_lineno': 1555, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62B4EA40>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 122, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('__class__', "<class 'django.db.backends.utils.CursorDebugWrapper'>")], 'id': 2041765489216, 'pre_context': ['', '', 'class CursorDebugWrapper(CursorWrapper):', "    # XXX callproc isn't instrumented at this time.", '', '    def execute(self, sql, params=None):', '        with self.debug_sql(sql, params, use_last_executed_query=True):'], 'context_line': '            return super().execute(sql, params)', 'post_context': ['', '    def executemany(self, sql, param_list):', '        with self.debug_sql(sql, param_list, many=True):', '            return super().executemany(sql, param_list)', '', '    @contextmanager'], 'pre_context_lineno': 115, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62AD1900>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': 'execute', 'lineno': 79, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)")], 'id': 2041764976896, 'pre_context': ['            elif kparams is None:', '                return self.cursor.callproc(procname, params)', '            else:', '                params = params or ()', '                return self.cursor.callproc(procname, params, kparams)', '', '    def execute(self, sql, params=None):'], 'context_line': '        return self._execute_with_wrappers(', 'post_context': ['            sql, params, many=False, executor=self._execute', '        )', '', '    def executemany(self, sql, param_list):', '        return self._execute_with_wrappers(', '            sql, param_list, many=True, executor=self._executemany'], 'pre_context_lineno': 72, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC1D80>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute_with_wrappers', 'lineno': 92, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('many', 'False'), ('executor', '<bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>>'), ('context', "{'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n 'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>}")], 'id': 2041765961088, 'pre_context': ['            sql, param_list, many=True, executor=self._executemany', '        )', '', '    def _execute_with_wrappers(self, sql, params, many, executor):', '        context = {"connection": self.db, "cursor": self}', '        for wrapper in reversed(self.db.execute_wrappers):', '            executor = functools.partial(wrapper, executor)'], 'context_line': '        return executor(sql, params, many, context)', 'post_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 85, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC26C0>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 100, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765963456, 'pre_context': ['', '    def _execute(self, sql, params, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()'], 'context_line': '        with self.db.wrap_database_errors:', 'post_context': ['            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:', '                return self.cursor.execute(sql, params)', ''], 'pre_context_lineno': 93, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2840>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\utils.py', 'function': '__exit__', 'lineno': 91, 'vars': [('self', '<django.db.utils.DatabaseErrorWrapper object at 0x000001DB62BB75E0>'), ('exc_type', "<class 'sqlite3.OperationalError'>"), ('exc_value', "OperationalError('no such function: ts_rank')"), ('traceback', '<traceback object at 0x000001DB62BC1980>'), ('dj_exc_type', "<class 'django.db.utils.OperationalError'>"), ('db_exc_type', "<class 'sqlite3.OperationalError'>"), ('dj_exc_value', "OperationalError('no such function: ts_rank')")], 'id': 2041765963840, 'pre_context': ['            db_exc_type = getattr(self.wrapper.Database, dj_exc_type.__name__)', '            if issubclass(exc_type, db_exc_type):', '                dj_exc_value = dj_exc_type(*exc_value.args)', "                # Only set the 'errors_occurred' flag for errors that may make", '                # the connection unusable.', '                if dj_exc_type not in (DataError, IntegrityError):', '                    self.wrapper.errors_occurred = True'], 'context_line': '                raise dj_exc_value.with_traceback(traceback) from exc_value', 'post_context': ['', '    def __call__(self, func):', '        # Note that we are intentionally not using @wraps here for performance', '        # reasons. Refs #21109.', '        def inner(*args, **kwargs):', '            with self:'], 'pre_context_lineno': 84, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC1980>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\utils.py', 'function': '_execute', 'lineno': 105, 'vars': [('self', '<django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>'), ('sql', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", %s)), \'\n \'%s) || setweight(to_tsvector(COALESCE("products_product"."description", \'\n \'%s)), %s)) || setweight(to_tsvector(COALESCE("products_category"."name", \'\n \'%s)), %s)), plainto_tsquery(%s)) >= %s OR \'\n \'MAX(SIMILARITY("products_product"."title", %s), \'\n \'SIMILARITY("products_product"."description", %s), \'\n \'SIMILARITY("products_category"."name", %s)) >= %s))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('ignored_wrapper_args', "(False,\n {'connection': <DatabaseWrapper vendor='sqlite' alias='default'>,\n  'cursor': <django.db.backends.utils.CursorDebugWrapper object at 0x000001DB62BB7880>})")], 'id': 2041765960064, 'pre_context': ['            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)', '        self.db.validate_no_broken_transaction()', '        with self.db.wrap_database_errors:', '            if params is None:', '                # params default might be backend specific.', '                return self.cursor.execute(sql)', '            else:'], 'context_line': '                return self.cursor.execute(sql, params)', 'post_context': ['', '    def _executemany(self, sql, param_list, *ignored_wrapper_args):', '        # Raise a warning during app initialization (stored_app_configs is only', '        # ever set during testing).', '        if not apps.ready and not apps.stored_app_configs:', '            warnings.warn(self.APPS_NOT_READY_WARNING_MSG, category=RuntimeWarning)'], 'pre_context_lineno': 98, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}], 'request': <ASGIRequest: GET '/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1'>, 'request_meta': {'REQUEST_METHOD': 'GET', 'QUERY_STRING': 'query=tes&sort_by=newest&in_stock=false&page=1', 'SCRIPT_NAME': '', 'PATH_INFO': '/products/api/products/search/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '127.0.0.1', 'REMOTE_HOST': '127.0.0.1', 'REMOTE_PORT': 49684, 'SERVER_NAME': '127.0.0.1', 'SERVER_PORT': '8000', 'HTTP_HOST': 'localhost:8000', 'HTTP_CONNECTION': 'keep-alive', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'application/json, text/plain, */*', 'HTTP_SEC_CH_UA': '"Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_ORIGIN': 'http://localhost:3000', 'HTTP_SEC_FETCH_SITE': 'same-site', 'HTTP_SEC_FETCH_MODE': 'cors', 'HTTP_SEC_FETCH_DEST': 'empty', 'HTTP_REFERER': 'http://localhost:3000/', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.9'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['*'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'marketplace.routing.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'auth.User', 'BASE_DIR': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels.layers.InMemoryChannelLayer'}}, 'CORS_ALLOWED_ORIGINS': ['http://localhost:3000'], 'CORS_ALLOW_CREDENTIALS': True, 'CRISPY_TEMPLATE_PACK': 'bootstrap4', 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FILE_STORAGE': 'django.core.files.storage.FileSystemStorage', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'smtp.gmail.com', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': None, 'EMAIL_PORT': 587, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': True, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'marketplace.apps.MarketplaceConfig', 'products.apps.ProductsConfig', 'orders.apps.OrdersConfig', 'payment.apps.PaymentConfig', 'adminapp.apps.AdminappConfig', 'staticpages.apps.StaticpagesConfig', 'django_daraja', 'widget_tweaks', 'rest_framework', 'rest_framework_simplejwt', 'corsheaders', 'channels', 'crispy_forms', 'livereload'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '{levelname} {asctime} {module} {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'console': {'class': 'logging.StreamHandler', 'formatter': 'verbose', 'stream': <_io.TextIOWrapper name='<stdout>' mode='w' encoding='utf-8'>}, 'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'C:\\Users\\lawrence.wafula\\Desktop\\EasyMarket\\django_debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': True}, 'myapp': {'handlers': ['console', 'file'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': 'home', 'LOGIN_URL': 'marketplace:signin', 'LOGOUT_REDIRECT_URL': 'home', 'LOGOUT_URL': 'marketplace:signout', 'MANAGERS': [], 'MEDIA_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/media'), 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'marketplace.middleware.TwoFactorMiddleware', 'livereload.middleware.LiveReloadScript'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'MPESA_CALLBACK_URL': 'mpesa_callback', 'MPESA_CONSUMER_KEY': '********************', 'MPESA_CONSUMER_SECRET': '********************', 'MPESA_ENVIRONMENT': 'sandbox', 'MPESA_EXPRESS_SHORTCODE': '174379', 'MPESA_INITIATOR_SECURITY_CREDENTIALS': None, 'MPESA_INITIATOR_USERNAME': None, 'MPESA_PASSKEY': '********************', 'MPESA_SHORTCODE': '174379', 'MPESA_SHORTCODE_TYPE': 'paybill', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PAYMENT_HOST': 'http://localhost:8000', 'PAYMENT_MODEL': 'students.Payment', 'PAYMENT_VARIANTS': {'default': ('payments.dummy.DummyProvider', {'url': '/payment/process/'})}, 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ('rest_framework_simplejwt.authentication.JWTAuthentication',), 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_PAGINATION_CLASS': 'rest_framework.pagination.PageNumberPagination', 'PAGE_SIZE': 10}, 'ROOT_URLCONF': 'students.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'students.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SIMPLE_JWT': {'ACCESS_TOKEN_LIFETIME': '********************', 'REFRESH_TOKEN_LIFETIME': '********************'}, 'STATICFILES_DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/static')], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'django.contrib.staticfiles.storage.StaticFilesStorage', 'STATIC_ROOT': WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/staticfiles'), 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [WindowsPath('C:/Users/lawrence.wafula/Desktop/EasyMarket/templates')], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'students.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\python.exe', 'sys_version_info': '3.10.11', 'server_time': datetime.datetime(2024, 12, 10, 8, 18, 34, 401755, tzinfo=datetime.timezone.utc), 'django_version_info': '5.0.9', 'sys_path': ['.', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\Scripts\\daphne.exe', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\python310.zip', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\DLLs', 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.10.3056.0_x64__qbz5n2kfra8p0\\lib', 'C:\\Users\\lawrence.wafula\\AppData\\Local\\Microsoft\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0', 'C:\\Users\\lawrence.wafula\\Documents\\sim', 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x000001DB62CD1E00>, 'request_FILES_items': <generator object MultiValueDict.items at 0x000001DB62CD2E30>, 'request_insecure_uri': 'http://localhost:8000/products/api/products/search/?query=tes&sort_by=newest&in_stock=false&page=1', 'raising_view_name': 'products.views.ProductViewSet', 'exception_type': 'OperationalError', 'exception_value': 'no such function: ts_rank', 'lastframe': {'exc_cause': OperationalError('no such function: ts_rank'), 'exc_cause_explicit': OperationalError('no such function: ts_rank'), 'tb': <traceback object at 0x000001DB62BC2940>, 'type': 'django', 'filename': 'C:\\Users\\lawrence.wafula\\Documents\\sim\\lib\\site-packages\\django\\db\\backends\\sqlite3\\base.py', 'function': 'execute', 'lineno': 329, 'vars': [('self', '<django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x000001DB62A8EEF0>'), ('query', '(\'SELECT COUNT(*) AS "__count" FROM "products_product" INNER JOIN \'\n \'"products_category" ON ("products_product"."category_id" = \'\n \'"products_category"."id") WHERE ("products_product"."is_active" AND \'\n \'(ts_rank(((setweight(to_tsvector(COALESCE("products_product"."title", ?)), \'\n \'?) || setweight(to_tsvector(COALESCE("products_product"."description", ?)), \'\n \'?)) || setweight(to_tsvector(COALESCE("products_category"."name", ?)), ?)), \'\n \'plainto_tsquery(?)) >= ? OR MAX(SIMILARITY("products_product"."title", ?), \'\n \'SIMILARITY("products_product"."description", ?), \'\n \'SIMILARITY("products_category"."name", ?)) >= ?))\')'), ('params', "('', 'A', '', 'B', '', 'C', 'tes', 0.3, 'tes', 'tes', 'tes', 0.3)"), ('param_names', 'None'), ('__class__', "<class 'django.db.backends.sqlite3.base.SQLiteCursorWrapper'>")], 'id': 2041765964096, 'pre_context': ['', '    def execute(self, query, params=None):', '        if params is None:', '            return super().execute(query)', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        param_names = list(params) if isinstance(params, Mapping) else None', '        query = self.convert_query(query, param_names=param_names)'], 'context_line': '        return super().execute(query, params)', 'post_context': ['', '    def executemany(self, query, param_list):', '        # Extract names if params is a mapping, i.e. "pyformat" style is used.', '        # Peek carefully as a generator can be passed instead of a list/tuple.', '        peekable, param_list = tee(iter(param_list))', '        if (params := next(peekable, None)) and isinstance(params, Mapping):'], 'pre_context_lineno': 322, 'colno': '', 'tb_area_colno': ''}}]
ERROR 2024-12-10 11:18:37,048 log Internal Server Error: /products/api/products/search/
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank
ERROR 2024-12-10 11:18:37,241 log Internal Server Error: /products/api/products/search/
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank
ERROR 2024-12-10 11:18:37,287 log Internal Server Error: /products/api/products/search/
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank
ERROR 2024-12-10 11:18:37,353 log Internal Server Error: /products/api/products/search/
Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
sqlite3.OperationalError: no such function: ts_rank

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\exception.py", line 42, in inner
    response = await get_response(request)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\handlers\base.py", line 253, in _get_response_async
    response = await wrapped_callback(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\asgiref\sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\views\decorators\csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\viewsets.py", line 124, in view
    return self.dispatch(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 480, in raise_uncaught_exception
    raise exc
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "C:\Users\lawrence.wafula\Desktop\EasyMarket\.\products\views.py", line 203, in search
    page = self.paginate_queryset(queryset)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\rest_framework\pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 89, in page
    number = self.validate_number(number)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 70, in validate_number
    if number > self.num_pages:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\utils\functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\core\paginator.py", line 110, in count
    return c()
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\query.py", line 620, in count
    return self.query.get_count(using=self.db)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 629, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\query.py", line 615, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\models\sql\compiler.py", line 1562, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
  File "C:\Users\lawrence.wafula\Documents\sim\lib\site-packages\django\db\backends\sqlite3\base.py", line 329, in execute
    return super().execute(query, params)
django.db.utils.OperationalError: no such function: ts_rank
DEBUG 2024-12-10 11:18:37,422 utils (0.016) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE "products_product"."is_active"; args=(); alias=default
DEBUG 2024-12-10 11:18:37,449 utils (0.016) SELECT "products_product"."id", "products_product"."title", "products_product"."description", "products_product"."price", "products_product"."student_id", "products_product"."category_id", "products_product"."condition", "products_product"."created_at", "products_product"."updated_at", "products_product"."is_active", "products_product"."image", "products_product"."slug", "products_product"."stock", "products_product"."reserved_stock", "products_product"."views_count", "products_product"."featured", "products_product"."last_stock_update", "products_product"."total_sales", "products_product"."total_revenue", "products_product"."last_sale_date", "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio", "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined", "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_product" INNER JOIN "marketplace_student" ON ("products_product"."student_id" = "marketplace_student"."id") INNER JOIN "auth_user" ON ("marketplace_student"."user_id" = "auth_user"."id") INNER JOIN "products_category" ON ("products_product"."category_id" = "products_category"."id") WHERE "products_product"."is_active" ORDER BY "products_product"."created_at" DESC LIMIT 4; args=(); alias=default
DEBUG 2024-12-10 11:18:37,453 utils (0.000) SELECT "marketplace_review"."id", "marketplace_review"."product_id", "marketplace_review"."reviewer_id", "marketplace_review"."rating", "marketplace_review"."comment", "marketplace_review"."timestamp" FROM "marketplace_review" WHERE "marketplace_review"."product_id" IN (4, 3, 2, 1); args=(4, 3, 2, 1); alias=default
DEBUG 2024-12-10 11:18:37,456 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 4; args=(4,); alias=default
DEBUG 2024-12-10 11:18:37,458 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 4 LIMIT 1; args=(1, 4); alias=default
DEBUG 2024-12-10 11:18:37,461 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 3; args=(3,); alias=default
DEBUG 2024-12-10 11:18:37,463 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 3 LIMIT 1; args=(1, 3); alias=default
DEBUG 2024-12-10 11:18:37,465 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 2; args=(2,); alias=default
DEBUG 2024-12-10 11:18:37,465 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 2 LIMIT 1; args=(1, 2); alias=default
DEBUG 2024-12-10 11:18:37,468 utils (0.000) SELECT AVG("marketplace_review"."rating") AS "rating__avg" FROM "marketplace_review" WHERE "marketplace_review"."product_id" = 1; args=(1,); alias=default
DEBUG 2024-12-10 11:18:37,469 utils (0.000) SELECT 1 AS "a" FROM "products_productvariant" INNER JOIN "products_product_variants" ON ("products_productvariant"."id" = "products_product_variants"."productvariant_id") WHERE "products_product_variants"."product_id" = 1 LIMIT 1; args=(1, 1); alias=default
DEBUG 2024-12-10 11:22:03,396 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:25:48,126 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
WARNING 2024-12-10 11:29:36,432 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:29:36,484 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:31:38,428 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:31:38,437 log Unauthorized: /products/api/categories/
DEBUG 2024-12-10 11:31:54,127 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:12,232 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:15,849 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:16,751 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:17,603 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:18,584 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:19,927 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
DEBUG 2024-12-10 11:33:28,333 base Asynchronous handler adapted for middleware marketplace.middleware.TwoFactorMiddleware.
WARNING 2024-12-10 11:35:40,732 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:35:40,764 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:09,747 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:14,012 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:32,732 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:32,860 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:43,991 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:42:44,103 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:43:24,549 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:43:24,552 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:43:24,672 utils (0.078) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:43:24.457775' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:43:24.457775', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:43:24,885 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:43:24,946 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:43:24.943571' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:43:24.943571', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:43:24,947 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:45:26,181 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:45:27,054 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:47:32,216 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:47:33,016 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:48:53,638 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:48:53,652 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:50:12,499 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:50:12,521 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:50:12,521 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:50:12.499870' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:50:12.499870', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:50:12,534 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:50:32,798 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:50:32,845 utils (0.063) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:50:32.781214' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:50:32.781214', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:50:32,845 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:50:48,083 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."username" = 'lawrencew' LIMIT 21; args=('lawrencew',); alias=default
DEBUG 2024-12-10 11:50:52,159 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:50:52.155920' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:50:52.155920', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 11:50:52,174 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:50:52,174 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:50:53,942 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:50:54,277 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:50:54.277480' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:50:54.277480', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
DEBUG 2024-12-10 11:50:54,277 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:50:55,696 utils (0.000) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2024-12-10 08:50:55.696512' AND "django_session"."session_key" = 'xb10htte5h46onczq6s5085u41tf295c') LIMIT 21; args=('2024-12-10 08:50:55.696512', 'xb10htte5h46onczq6s5085u41tf295c'); alias=default
WARNING 2024-12-10 11:50:55,696 log Unauthorized: /marketplace/api/wishlist/
DEBUG 2024-12-10 11:50:55,696 utils (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
WARNING 2024-12-10 11:50:59,261 log Unauthorized: /products/api/categories/
WARNING 2024-12-10 11:50:59,288 log Unauthorized: /products/api/categories/
DEBUG 2024-12-10 11:51:46,166 utils (1.266) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:51:46,481 utils (0.312) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:51:48,340 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:51:49,028 utils (0.047) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 11:51:49,072 utils (0.047) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 1 LIMIT 21; args=(1,); alias=default
ERROR 2024-12-10 11:51:49,157 log Internal Server Error: /products/api/products/test2-1/
DEBUG 2024-12-10 11:51:49,589 utils (0.422) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:51:49,823 utils (0.234) UPDATE "products_product" SET "views_count" = ("products_product"."views_count" + 1) WHERE "products_product"."id" = 3; args=(1, 3); alias=default
DEBUG 2024-12-10 11:51:49,830 utils (0.000) SELECT "products_category"."id", "products_category"."name", "products_category"."description", "products_category"."image", "products_category"."slug", "products_category"."is_active", "products_category"."created_at", "products_category"."updated_at" FROM "products_category" WHERE "products_category"."id" = 1 LIMIT 21; args=(1,); alias=default
DEBUG 2024-12-10 11:51:49,840 utils (0.000) SELECT COUNT(*) AS "__count" FROM "products_product" WHERE ("products_product"."category_id" = 1 AND "products_product"."is_active"); args=(1,); alias=default
DEBUG 2024-12-10 11:51:49,840 utils (0.000) SELECT "marketplace_student"."id", "marketplace_student"."user_id", "marketplace_student"."first_name", "marketplace_student"."last_name", "marketplace_student"."email", "marketplace_student"."bio" FROM "marketplace_student" WHERE "marketplace_student"."id" = 1 LIMIT 21; args=(1,); alias=default
ERROR 2024-12-10 11:51:49,846 log Internal Server Error: /products/api/products/test2-1/
