{% extends 'staticpages/base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
Contact Us
{% endblock %}

{% block content %}

<div class="col-md-3">
    <div class="sidebar">
        <h2 class="mb-3">Menu</h2>
        <ul class="list-unstyled mb-4">
            <li><a href="{% url 'dashboard' %}" class="text-decoration-none">Dashboard</a></li>
            <li><a href="{% url 'add_category' %}" class="text-decoration-none">Add Category</a></li>
            <li><a href="{% url 'products:categories' %}" class="text-decoration-none">Categories</a></li>
            <li><a href="{% url 'products:add_product' %}" class="text-decoration-none">Sell</a></li>
            <li><a href="{% url 'products:product_list' %}" class="text-decoration-none">Buy</a></li>
            <li><a href="{% url 'orders' %}" class="text-decoration-none">My Orders</a></li>
            <li><a href="{% url 'products:user_product_list' user_id=request.user.id %}" class="text-decoration-none">My
                    Listings</a></li>
            <li><a href="{% url 'contact' %}" class="text-decoration-none">Contact Us</a></li>
            <li><a href="{% url 'home' %}" class="text-decoration-none">Site Home</a></li>
        </ul>
        <div class="logout-btn">
            <form action="{% url 'signout' %}" method="post">
                {% csrf_token %}
                <button type="submit" id="submit-btn" class="btn btn-danger">Log out</button>
            </form>
        </div>
    </div>
</div>
<div class="col-md-9">
    <div class="mainbar">
        <h1 class="mb-4">Contact Us</h1>
        <p>Please fill out the form below and we will get back to you as soon as possible.</p>

        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
                {% endfor %}
        </ul>
        {% endif %}
        <form method="post">
            {% csrf_token %}
            {{ ContactForm.as_p }}
            {% if form.errors %}
            <p>Your form has errors, please check the fields below:</p>
            {% endif %}
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>

        <h2 class="mt-5">Our Location</h2>
        <p>123 Main Street, Anytown, USA</p>

        <!-- You can embed a Google Maps iframe here -->
        <div id="map" class="mb-4"></div>

        <h2>Phone</h2>
        <p>(123) 456-7890</p>

        <h2>Email</h2>
        <p>info@example.com</p>

        <h2>Follow Us</h2>
        <p>
            <a href="#" class="text-decoration-none">Facebook</a> |
            <a href="#" class="text-decoration-none">Twitter</a> |
            <a href="#" class="text-decoration-none">Instagram</a>
        </p>
        <script>
            $(document).ready(function () {
                $("form").submit(function (event) {
                    var isValid = true;
                    $(".requiredField").each(function () {
                        if ($(this).val() === '') {
                            isValid = false;
                            $(this).css({ "border": "1px solid red" });
                        } else {
                            $(this).css({ "border": "" });
                        }
                    });
                    if (!isValid) {
                        event.preventDefault(); // prevent form submission
                        alert('Please fill all required fields');
                    }
                });
            });
        </script>
    </div>
</div>
</div>
</div>

<footer class="site-footer">
    <div class="footer-container">
        <div class="footer-section quick-links">
            <h2>Quick Links</h2>
            <ul>
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="{% url 'products:categories' %}">Categories</a></li>
                <li><a href="{% url 'products:product_list' %}">My Products</a></li>
                <li><a href="{% url 'orders' %}">My Orders</a></li>
                <li><a href="{% url 'contact' %}">Contact Us</a></li>
            </ul>
        </div>

        <div class="footer-section contact">
            <h2>Contact Information</h2>
            <ul>
                <li><i class="fas fa-map-marker-alt"></i> 123 Market Street, Vegas, Kenya</li>
                <li><i class="fas fa-envelope"></i> <a href="mailto:info@easymarket.com">info@easymarket.com</a></li>
                <li><i class="fas fa-phone"></i> +254-725-796-722</li>
            </ul>
        </div>

        <div class="footer-section contact-form">
            <h2>Contact Us</h2>
            <form action="#" method="post">
                <textarea name="message" rows="4" placeholder="Type your message here..."></textarea>
                <button type="submit">Send Message</button>
            </form>
        </div>

        <div class="footer-section social-media">
            <h2>Connect With Us</h2>
            <ul id="social-media">
                <li>
                    <a href="#" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M22.675 0H1.325C.593 0 0 .593 0 1.325v21.351C0 23.407.593 24 1.325 24h11.494v-9.294H9.692v-3.622h3.127V7.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.732 0 1.325-.593 1.325-1.325V1.325C24 .593 23.407 0 22.675 0">
                            </path>
                        </svg>
                    </a>
                </li>
                <li>
                    <a href="#" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z">
                            </path>
                        </svg>
                    </a>
                </li>
                <li>
                    <a href="#" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.42.336 3.295.706 1.02.434 1.76 1.174 2.195 2.195.37.875.644 1.93.706 3.295.058 1.267.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.336 2.42-.706 3.295-.434 1.02-1.174 1.76-2.195 2.195-.875.37-1.93.644-3.295.706-1.267.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.42-.336-3.295-.706-1.02-.434-1.76-1.174-2.195-2.195-.37-.875-.644-1.93-.706-3.295-.058-1.267-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.336-2.42.706-3.295.434-1.02 1.174-1.76 2.195-2.195.875-.37 1.93-.644 3.295-.706 1.266-.058 1.646-.07 4.85-.07m0-2.163c-3.259 0-3.667.014-4.947.072-1.275.059-2.163.27-2.92.568-.97.382-1.704.887-2.438 1.722-.756.756-1.34 1.468-1.722 2.438-.298.756-.509 1.645-.568 2.92-.058 1.28-.072 1.688-.072 4.947 0 3.259.014 3.667.072 4.947.059 1.275.27 2.163.568 2.92.382.97.887 1.704 1.722 2.438.756.756 1.468 1.34 2.438 1.722.756.298 1.645.509 2.92.568 1.28.058 1.688.072 4.947.072s3.667-.014 4.947-.072c1.275-.059 2.163-.27 2.92-.568.97-.382 1.704-.887 2.438-1.722.756-.756 1.34-1.468 1.722-2.438.298-.756.509-1.645.568-2.92.058-1.28.072-1.688.072-4.947 0-3.259-.014-3.667-.072-4.947-.059-1.275-.27-2.163-.568-2.92-.382-.97-.887-1.704-1.722-2.438-.756-.756-1.468-1.34-2.438-1.722-.756-.298-1.645-.509-2.92-.568-1.28-.059-1.689-.072-4.947-.072z">
                            </path>
                            <path fill="currentColor"
                                d="M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a4 4 0 1 1 0-8 4 4 0 0 1 0 8z">
                            </path>
                            <circle cx="18.406" cy="5.594" r="1.44" fill="currentColor"></circle>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="footer-bottom">
        <p>&copy; 2024 EasyMarket. All rights reserved.</p>
    </div>
</footer>
{% endblock %}